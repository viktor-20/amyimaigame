{
"autoplayBgm":true,"autoplayBgs":true,"battleback1Name":"","battleback2Name":"","bgm":{"name":"Town5","pan":0,"pitch":100,"volume":90},"bgs":{"name":"","pan":0,"pitch":100,"volume":90},"disableDashing":false,"displayName":"","encounterList":[{"troopId":6,"weight":5,"regionSet":[1,2]},{"troopId":7,"weight":1,"regionSet":[2,3]}],"encounterStep":30,"height":32,"note":"","parallaxLoopX":false,"parallaxLoopY":false,"parallaxName":"","parallaxShow":true,"parallaxSx":0,"parallaxSy":0,"scrollType":0,"specifyBattleback":false,"tilesetId":7,"width":40,
"data":[3588,3612,3612,3612,3612,3612,3612,3612,3622,1554,1554,4459,4458,4458,4462,3600,3608,4459,4458,4458,4458,4458,4458,4458,4458,4458,4458,4462,3600,3584,3584,3584,3584,3584,3584,3584,3584,3584,3584,3584,3608,4459,4458,4458,4458,4458,4458,4458,4462,1554,1554,7287,7290,7283,7286,3600,3608,7291,7287,7290,7287,7290,7287,7290,7287,7290,7287,7294,3600,3584,3584,3584,3584,3584,3584,3584,3584,3584,3584,3584,3608,7283,7282,7286,7290,7283,7282,7282,7286,1554,1554,7293,1536,7289,7292,3600,3608,1536,7293,1536,7293,1536,7293,1536,7293,1536,7293,1536,3600,3584,3584,3584,3584,3584,3584,3584,3584,3584,3584,3584,3608,7289,7288,7292,1536,7289,7288,7288,7292,1554,1554,1554,3627,3606,3604,3585,3586,3604,3604,3604,3604,3604,3604,3604,3604,3604,3604,3604,3585,3584,3584,3588,3612,3612,3612,3612,3612,3592,3584,3584,3586,3604,3604,3604,3604,3604,3604,3604,3620,1554,1554,3630,1554,3624,3612,3612,3612,3612,3612,3612,3612,3612,3612,3612,3612,3612,3612,3612,3612,3612,3612,3609,1580,6210,6196,6196,6212,3600,3584,3584,3588,3612,3612,3612,3612,3612,3612,3612,3622,1554,1554,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,3603,3629,6192,6176,6176,6200,3600,3584,3584,3608,4459,4458,4458,4458,4458,4458,4458,4462,1554,1554,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,3616,1580,6192,6176,6176,6200,3600,3584,3584,3608,7287,7290,7287,7290,7287,7290,7287,7294,1554,1554,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,3603,3629,6192,6176,6176,6200,3600,3584,3584,3608,7293,1536,7293,1536,7293,1536,7293,1536,1554,1554,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,3616,1580,6192,6176,6176,6200,3600,3584,3584,3586,3604,3604,3604,3604,3604,3604,3604,3620,1554,1554,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,3603,3629,6192,6176,6176,6200,3600,3584,3584,3588,3612,3612,3612,3612,3612,3612,3612,3622,1554,1554,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,3616,1580,6216,6204,6204,6214,3600,3584,3584,3608,4459,4458,4458,4458,4458,4458,4458,4462,1554,1554,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,3601,3620,7283,7282,7282,7286,3600,3584,3584,3608,7287,7290,7287,7290,7287,7290,7287,7294,1554,1554,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,3600,3608,7281,7280,7280,7284,3600,3584,3584,3608,7293,1536,7293,1536,7293,1536,7293,1536,1554,1554,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,3600,3608,7289,7288,7288,7292,3600,3584,3584,3586,3604,3604,3604,3604,3604,3604,3604,3604,3604,3620,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,3600,3586,3604,3604,3604,3604,3585,3584,3584,3588,3612,3612,3612,3612,3612,3612,3612,3612,3592,3608,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,3600,3584,3584,3584,3584,3584,3584,3584,3584,3608,4459,4458,4458,4458,4458,4458,4458,4462,3600,3608,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,3630,1553,1553,1553,3624,3612,3612,3612,3612,3612,3612,3612,3612,3608,7287,7290,7287,7290,7287,7290,7287,7294,3600,3608,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,178,179,3608,7293,1536,7293,1536,7293,1536,7293,1536,3600,3608,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,186,187,3590,3617,3617,3617,3617,3617,3617,3617,3606,3585,3608,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,178,179,3608,1554,1554,1554,1554,1554,1554,1554,3600,3584,3608,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,186,187,3586,3605,3617,3617,3617,3617,3629,1554,3600,3584,3608,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,178,179,3612,3622,1554,1554,1554,1554,1554,1554,3600,3584,3608,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1553,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,186,187,1554,1554,1554,1554,1580,1580,1554,1554,3600,3584,3608,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,178,179,3629,6210,6196,6196,6196,6196,6212,1554,3600,3584,3608,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,186,187,1554,6192,6176,6176,6176,6176,6200,1554,3600,3584,3608,1544,1544,1544,2094,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,179,178,179,1554,6192,6176,6176,6176,6176,6200,1554,3600,3584,3608,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,187,186,187,1554,6216,6204,6204,6204,6204,6214,1554,3600,3584,3608,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,179,178,179,1554,7283,7282,7282,7282,7282,7286,1554,3600,3584,3608,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,186,187,1554,7289,7288,7288,7288,7288,7292,1554,3600,3584,3608,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,178,179,1554,1554,1554,1554,1554,1554,1554,1554,3600,3584,3608,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,186,187,3604,3604,3620,1554,1554,1554,1554,1554,3600,3584,3608,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,178,179,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1544,1544,1544,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1544,1544,0,0,0,0,0,1544,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1544,1544,1544,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1544,1544,1544,1544,1544,1544,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2850,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2832,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,0,0,0,0,0,0,0,0,0,1544,0,0,0,0,0,0,0,0,0,0,0,0,0,2832,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2832,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,1544,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2832,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2832,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,0,0,0,0,0,0,0,0,0,0,0,2850,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2817,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,0,1544,1544,1544,1544,1544,1544,0,1544,1544,0,2832,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,0,1544,1544,1544,1544,1544,1544,0,1544,1544,1544,2832,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,0,0,0,1544,1544,1544,1544,0,1544,1544,1544,2832,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,0,0,1544,1544,1544,1544,1544,0,1544,1544,1544,2832,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,0,1544,1544,1544,0,0,1544,0,1544,1544,1544,2832,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,0,1544,1544,1544,1544,1544,1544,0,1544,1544,1544,2832,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,0,0,0,0,0,0,0,0,1544,1544,1544,2832,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,1544,0,0,0,0,0,0,0,1544,1544,1544,2832,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,768,0,0,0,0,768,0,769,0,770,0,771,0,772,0,773,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1544,1544,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1544,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1544,1544,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1544,0,0,0,0,0,0,0,1544,774,1544,775,809,780,0,1544,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1544,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1544,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1544,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1544,1544,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1544,1544,1544,1544,1544,1544,1544,1544,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1544,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1554,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1554,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1544,1544,1544,1544,1544,1544,1544,1544,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2850,2836,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2832,2816,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2832,2816,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2832,2816,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2862,0,0,0,0,0,0,2832,2816,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2832,2816,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2832,2816,0,1544,1544,1544,1544,1544,1544,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2832,2816,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2862,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2862,0,2832,2816,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2832,2816,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2862,0,0,0,0,0,0,0,0,2862,0,0,0,0,0,0,2832,2816,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2832,2816,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2856,2824,0,0,0,0,0,0,0,0,0,0,0,2850,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2852,177,2856,0,0,0,0,0,0,0,0,0,0,0,2832,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2818,2852,0,0,0,0,0,0,0,0,0,0,0,0,1544,1544,1544,1544,0,0,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,0,0,0,0,0,0,0,0,0,0,0,0,0,1544,1544,1544,1544,1544,1544,1544,1544,0,0,1544,770,1544,1544,0,0,773,1544,772,1544,771,1544,770,1544,769,1544,768,0,1554,0,0,0,0,0,32,0,0,0,0,0,0,0,769,769,0,0,1544,1544,0,0,1544,1544,1544,1544,0,0,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,1544,0,1554,0,0,0,0,0,40,0,0,0,0,0,1544,0,1544,1544,1544,0,1544,1544,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1554,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1554,1554,1554,0,768,1544,1544,1544,1554,1554,1554,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1554,779,780,1544,1544,1554,1554,0,0,1544,1544,1544,1544,1544,1544,1544,1544,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,769,1544,1544,1544,1554,1554,0,0,768,256,779,780,820,775,1544,774,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1554,256,1544,1544,1544,1554,1554,0,0,1544,1544,1544,1544,1544,1544,1544,1544,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,769,1544,1544,1544,1554,1554,1554,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1554,768,1544,1544,1544,1554,1554,1554,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,769,769,1544,1544,1554,1554,0,0,1544,1544,1544,1544,1544,1544,1544,1544,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1554,1544,1544,1544,1544,1554,0,0,0,768,771,768,770,768,769,768,768,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1554,1544,1544,1544,1544,1554,0,0,0,1544,1544,1544,1544,1544,1544,1544,1544,0,0,0,0,0,0,0,0,0,0,0,516,517,0,0,516,517,0,516,517,0,0,0,1554,1544,1544,32,1544,1554,1554,1554,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,516,517,0,0,524,525,0,0,524,525,0,524,525,0,0,0,1554,1554,1554,40,1554,1554,1554,1554,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,524,525,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1554,1554,1554,48,1554,1554,1554,1554,0,1544,1544,1544,1544,1544,1544,1544,1544,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1554,1554,1554,1554,1554,1554,187,186,0,768,775,768,774,768,773,768,772,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2850,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2852,178,179,178,0,1544,1544,1544,1544,1544,1544,1544,1544,0,0,0,0,0,0,0,516,517,0,0,0,0,0,2832,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2840,186,187,186,1554,1554,1554,1554,1554,1554,1554,1554,0,1554,0,0,0,0,0,0,524,525,0,0,0,0,0,2832,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2840,178,179,178,1554,1554,1554,1554,1554,1554,1554,1554,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2832,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2840,186,187,186,1554,1554,1554,1554,1554,1554,1554,1554,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2832,2816,2816,2816,2816,2816,2816,2816,235,2816,2816,2816,2816,2840,178,179,178,1554,1554,1554,1554,1554,1554,1554,1554,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2832,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2820,2854,186,187,186,1554,1554,1554,1554,0,0,1554,1554,0,0,0,2850,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2836,2817,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2840,179,178,179,178,0,73,76,65,74,67,68,0,1554,1554,0,2832,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2840,187,186,187,186,0,1544,1544,1544,1544,1544,1544,0,1554,1554,1554,2832,2816,2816,2816,2816,2816,235,2816,2816,2816,2816,2820,2844,2844,2844,2844,2844,2844,2824,2816,2816,2816,2816,2816,2840,179,178,178,178,0,1544,1544,1544,1544,1544,1544,0,1554,1554,1554,2832,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,2840,178,179,178,179,178,179,2832,2816,2816,2816,2816,2816,2840,187,186,187,186,0,1544,1544,1544,1544,1544,1544,0,1554,1554,1554,2832,2816,2816,2816,2816,2816,2816,2816,2816,2816,2816,235,186,187,186,187,186,187,2856,2844,235,2844,2844,2844,2841,179,178,179,178,0,1544,1544,1544,1544,1544,1544,0,1554,1554,1554,2832,2820,2844,2844,2824,2816,2816,2816,2816,2816,2816,2840,178,179,178,179,178,179,178,179,178,179,178,179,2848,187,186,187,186,0,1544,1544,1544,1544,1544,1544,0,1554,1554,1554,2856,2854,186,187,2856,2844,2844,2844,2844,2844,2844,2854,186,187,186,187,186,187,186,187,186,187,186,187,2860,179,178,179,178,1554,0,0,0,0,0,0,1554,1554,1554,1554,178,179,178,179,178,179,178,179,178,179,178,179,178,179,178,179,178,179,178,179,178,179,178,179,178,179,178,179,178,1554,1554,1554,1554,1554,1554,1554,1554,1554,1554,1554,186,187,186,187,186,187,186,187,186,187,186,187,186,187,186,187,186,187,186,187,186,187,186,187,186,187,186,187,186,0,1073741824,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,5,0,0,5,0,0,0,5,0,5,0,5,0,5,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,12,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,3,1,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,8,12,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,15,15,15,0,0,0,0,0,0,0,0,1,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,0,0,12,4,0,8,14,15,15,15,15,15,0,0,8,14,3,0,1,0,8,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,2,12,3,1,8,14,15,15,15,15,15,15,15,0,0,0,8,12,12,0,4,3,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,3,8,14,15,15,15,15,15,15,15,15,15,15,0,0,-2147483633,15,15,1,8,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,14,15,15,15,15,15,15,15,15,15,15,15,15,0,0,-2147483645,3,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,4,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,15,15,15,15,5,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,14,15,15,15,15,13,10,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,2,3,3,0,0,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,13,15,0,0,0,0,0,0,0,0,0,0,0,1,2,1,12,4,14,15,3,9,12,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,0,2,3,0,0,12,12,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,8,4,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,0,0,0,10,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,15,15,15,15,0,0,12,0,8,12,12,12,8,12,12,12,12,12,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,2,2,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,1,1,1,1,1,2,2,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,2,2,2,2,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,2,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,2,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,1,0,3,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,2,0,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,1,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
"events":[
null,
null,
{"id":2,"name":"Door (Amy Imai)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"!Door1","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Open1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":19},{"code":37},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":19}]},{"code":505,"indent":0,"parameters":[{"code":37}]},{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":250,"indent":0,"parameters":[{"name":"Move1","volume":90,"pitch":100,"pan":0}]},{"code":201,"indent":0,"parameters":[0,28,9,11,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":4,"y":3},
null,
{"id":4,"name":"Hi_Monster","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Monster","direction":8,"pattern":2,"characterIndex":5},"list":[{"code":301,"indent":0,"parameters":[0,5,true,false]},{"code":601,"indent":0,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":602,"indent":0,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":604,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":1,"moveType":1,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":20,"y":15},
{"id":5,"name":"Treasure (50G)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":true,"image":{"characterIndex":0,"characterName":"!Chest","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Chest1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":36},{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":36}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":123,"indent":0,"parameters":["A",0]},{"code":125,"indent":0,"parameters":[0,0,50]},{"code":101,"indent":0,"parameters":["",0,0,2]},{"code":401,"indent":0,"parameters":["50\\G were found!"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":true,"through":false,"trigger":0,"walkAnime":true},{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":true,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":true,"image":{"characterIndex":0,"characterName":"!Chest","direction":8,"pattern":1,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":false}],"x":20,"y":16},
{"id":6,"name":"Rm 10 Door (Amy Imai)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"!Door1","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Open1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":19},{"code":37},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":19}]},{"code":505,"indent":0,"parameters":[{"code":37}]},{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":250,"indent":0,"parameters":[{"name":"Move1","volume":90,"pitch":100,"pan":0}]},{"code":201,"indent":0,"parameters":[0,16,9,11,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":2,"y":8},
{"id":7,"name":"Rm 9 Door (Amy Imai)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"!Door1","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Open1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":19},{"code":37},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":19}]},{"code":505,"indent":0,"parameters":[{"code":37}]},{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":250,"indent":0,"parameters":[{"name":"Move1","volume":90,"pitch":100,"pan":0}]},{"code":201,"indent":0,"parameters":[0,15,9,11,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":4,"y":8},
{"id":8,"name":"Rm 8 Door (Amy Imai)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"!Door1","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Open1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":19},{"code":37},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":19}]},{"code":505,"indent":0,"parameters":[{"code":37}]},{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":250,"indent":0,"parameters":[{"name":"Move1","volume":90,"pitch":100,"pan":0}]},{"code":201,"indent":0,"parameters":[0,13,9,11,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":6,"y":8},
{"id":9,"name":"Rm 7 Door","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"!Door1","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Open1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":19},{"code":37},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":19}]},{"code":505,"indent":0,"parameters":[{"code":37}]},{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":250,"indent":0,"parameters":[{"name":"Move1","volume":90,"pitch":100,"pan":0}]},{"code":201,"indent":0,"parameters":[0,12,9,11,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":8,"y":8},
{"id":10,"name":"Rm 14 Door (Amy Imai)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"!Door1","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Open1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":19},{"code":37},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":19}]},{"code":505,"indent":0,"parameters":[{"code":37}]},{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":250,"indent":0,"parameters":[{"name":"Move1","volume":90,"pitch":100,"pan":0}]},{"code":201,"indent":0,"parameters":[0,20,9,10,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":2,"y":13},
{"id":11,"name":"Rm 13 Door (Amy Imai)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"!Door1","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Open1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":19},{"code":37},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":19}]},{"code":505,"indent":0,"parameters":[{"code":37}]},{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":250,"indent":0,"parameters":[{"name":"Move1","volume":90,"pitch":100,"pan":0}]},{"code":201,"indent":0,"parameters":[0,19,9,12,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":4,"y":13},
{"id":12,"name":"Rm 12 Door (Amy Imai)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"!Door1","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Open1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":19},{"code":37},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":19}]},{"code":505,"indent":0,"parameters":[{"code":37}]},{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":250,"indent":0,"parameters":[{"name":"Move1","volume":90,"pitch":100,"pan":0}]},{"code":201,"indent":0,"parameters":[0,18,9,12,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":6,"y":13},
{"id":13,"name":"Rm 11 Door (Amy Imai)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"!Door1","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Open1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":19},{"code":37},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":19}]},{"code":505,"indent":0,"parameters":[{"code":37}]},{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":250,"indent":0,"parameters":[{"name":"Move1","volume":90,"pitch":100,"pan":0}]},{"code":201,"indent":0,"parameters":[0,17,9,12,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":8,"y":13},
{"id":14,"name":"Rm 18 Door (Amy Imai)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"!Door1","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Open1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":19},{"code":37},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":19}]},{"code":505,"indent":0,"parameters":[{"code":37}]},{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":250,"indent":0,"parameters":[{"name":"Move1","volume":90,"pitch":100,"pan":0}]},{"code":201,"indent":0,"parameters":[0,24,9,12,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":2,"y":18},
{"id":15,"name":"Rm 17 Door (Amy Imai)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"!Door1","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Open1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":19},{"code":37},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":19}]},{"code":505,"indent":0,"parameters":[{"code":37}]},{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":250,"indent":0,"parameters":[{"name":"Move1","volume":90,"pitch":100,"pan":0}]},{"code":201,"indent":0,"parameters":[0,23,9,12,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":4,"y":18},
{"id":16,"name":"Rm 16 Door (Amy Imai)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"!Door1","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Open1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":19},{"code":37},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":19}]},{"code":505,"indent":0,"parameters":[{"code":37}]},{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":250,"indent":0,"parameters":[{"name":"Move1","volume":90,"pitch":100,"pan":0}]},{"code":201,"indent":0,"parameters":[0,22,9,12,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":6,"y":18},
{"id":17,"name":"Rm 15 Door (Amy Imai)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"!Door1","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Open1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":19},{"code":37},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":19}]},{"code":505,"indent":0,"parameters":[{"code":37}]},{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":250,"indent":0,"parameters":[{"name":"Move1","volume":90,"pitch":100,"pan":0}]},{"code":201,"indent":0,"parameters":[0,21,9,12,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":8,"y":18},
{"id":18,"name":"Door (Amy Imai)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"!Door1","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Open1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":19},{"code":37},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":19}]},{"code":505,"indent":0,"parameters":[{"code":37}]},{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":250,"indent":0,"parameters":[{"name":"Move1","volume":90,"pitch":100,"pan":0}]},{"code":201,"indent":0,"parameters":[0,8,9,11,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":12,"y":2},
{"id":19,"name":"Rm 6 Door (Amy Imai)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"!Door1","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Open1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":19},{"code":37},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":19}]},{"code":505,"indent":0,"parameters":[{"code":37}]},{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":250,"indent":0,"parameters":[{"name":"Move1","volume":90,"pitch":100,"pan":0}]},{"code":201,"indent":0,"parameters":[0,11,9,12,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":17,"y":2},
{"id":20,"name":"Rm 5 Door (Amy Imai)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"!Door1","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Open1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":19},{"code":37},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":19}]},{"code":505,"indent":0,"parameters":[{"code":37}]},{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":250,"indent":0,"parameters":[{"name":"Move1","volume":90,"pitch":100,"pan":0}]},{"code":201,"indent":0,"parameters":[0,10,9,12,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":19,"y":2},
{"id":21,"name":"Rm 4 Door (Amy Imai)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"!Door1","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Open1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":19},{"code":37},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":19}]},{"code":505,"indent":0,"parameters":[{"code":37}]},{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":250,"indent":0,"parameters":[{"name":"Move1","volume":90,"pitch":100,"pan":0}]},{"code":201,"indent":0,"parameters":[0,9,9,12,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":21,"y":2},
{"id":22,"name":"Rm 3 Door (Amy Imai)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"!Door1","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Open1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":19},{"code":37},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":19}]},{"code":505,"indent":0,"parameters":[{"code":37}]},{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":250,"indent":0,"parameters":[{"name":"Move1","volume":90,"pitch":100,"pan":0}]},{"code":201,"indent":0,"parameters":[0,8,9,12,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":23,"y":2},
{"id":23,"name":"Rm 2 Door (Amy Imai)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"!Door1","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Open1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":19},{"code":37},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":19}]},{"code":505,"indent":0,"parameters":[{"code":37}]},{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":250,"indent":0,"parameters":[{"name":"Move1","volume":90,"pitch":100,"pan":0}]},{"code":201,"indent":0,"parameters":[0,7,9,12,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":25,"y":2},
{"id":24,"name":"Rm 1 Door (Amy Imai)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"!Door1","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Open1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":19},{"code":37},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":19}]},{"code":505,"indent":0,"parameters":[{"code":37}]},{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":250,"indent":0,"parameters":[{"name":"Move1","volume":90,"pitch":100,"pan":0}]},{"code":201,"indent":0,"parameters":[0,14,9,12,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":27,"y":2},
{"id":25,"name":"ms. johnson","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"SF_People1","direction":2,"pattern":1,"characterIndex":3},"list":[{"code":355,"indent":0,"parameters":["// Customizable variables"]},{"code":655,"indent":0,"parameters":["var npcName = \"Ms. johnson\";"]},{"code":655,"indent":0,"parameters":["var npcFaceSet = \"SF_People1\";"]},{"code":655,"indent":0,"parameters":["var npcFaceIndex = 3;"]},{"code":655,"indent":0,"parameters":["var introText = \"%PLAYER_NAME%! Geological monsters are\\ncausing tremors in our science lab!\";"]},{"code":655,"indent":0,"parameters":["var requestText = \"Answer this earth science question to\\nhelp stabilize the situation!\";"]},{"code":655,"indent":0,"parameters":["var questionText = \"What is the outer layer of the\\nEarth called?\";"]},{"code":655,"indent":0,"parameters":["var choices = [\"Core\", \"Mantle\", \"Crust\", \"Atmosphere\"];"]},{"code":655,"indent":0,"parameters":["var correctChoiceIndex = 2; // Crust"]},{"code":655,"indent":0,"parameters":["var correctResponseText = \"Exactly right! The crust is the\\noutermost layer of the Earth!\";"]},{"code":655,"indent":0,"parameters":["var wrongResponseText = \"That's not correct. Come back when\\nyou're ready to try again.\";"]},{"code":655,"indent":0,"parameters":["var rewardXP = 110;"]},{"code":655,"indent":0,"parameters":["var rewardText = \"You received \" + rewardXP + \" XP!\";"]},{"code":655,"indent":0,"parameters":["var completionText = \"Great job! Now help me save our\\nplanet models from the science wing!\";"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Track if the player has already completed this quiz"]},{"code":655,"indent":0,"parameters":["var quizCompletedVarId = 31;"]},{"code":655,"indent":0,"parameters":["// Function to create a sequential message chain"]},{"code":655,"indent":0,"parameters":["function createMessageChain(messages) {"]},{"code":655,"indent":0,"parameters":["    var currentMessageIndex = 0;"]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Show the first message"]},{"code":655,"indent":0,"parameters":["    showNextMessage();"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    function showNextMessage() {"]},{"code":655,"indent":0,"parameters":["        if (currentMessageIndex < messages.length) {"]},{"code":655,"indent":0,"parameters":["            var message = messages[currentMessageIndex];"]},{"code":655,"indent":0,"parameters":["            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setSpeakerName(message.speaker);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setFaceImage(message.faceSet, message.faceIndex);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.add(message.text);"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // If this is the last message and it has choices, add them"]},{"code":655,"indent":0,"parameters":["            if (message.choices && currentMessageIndex === messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(message.choices.options, 0, 0);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(message.choices.callback);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // When current message is done, setup listener for next message"]},{"code":655,"indent":0,"parameters":["            if (currentMessageIndex < messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                var nextMessageListener = function() {"]},{"code":655,"indent":0,"parameters":["                    // Remove the listener to prevent multiple calls"]},{"code":655,"indent":0,"parameters":["                    $gameMessage.removeEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["                    currentMessageIndex++;"]},{"code":655,"indent":0,"parameters":["                    setTimeout(showNextMessage, 10);"]},{"code":655,"indent":0,"parameters":["                };"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                $gameMessage.addEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Unfortunately, RPG Maker MZ doesn't have the addEventListener method as described above."]},{"code":655,"indent":0,"parameters":["// Instead, we need to use a different approach with common events and game switches."]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Check if the quiz has already been completed"]},{"code":655,"indent":0,"parameters":["if ($gameVariables.value(quizCompletedVarId) === 1) {"]},{"code":655,"indent":0,"parameters":["    // Quiz already completed, show completion message only"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["} else {"]},{"code":655,"indent":0,"parameters":["    // First we'll show the intro message"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(introText.replace(\"%PLAYER_NAME%\", $gameParty.leader().name()));"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Use a common event to chain messages"]},{"code":655,"indent":0,"parameters":["    // In RPG Maker, we have to use the \"Show Text\" command multiple times in sequence"]},{"code":655,"indent":0,"parameters":["    // from the event editor, not from script."]},{"code":655,"indent":0,"parameters":["    // But for script purposes, we can use a workaround with conditional branches and message waiting"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    var messageStep = 1;  // Use a step counter to track progress"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Set up an interval to check when the message window is closed"]},{"code":655,"indent":0,"parameters":["    var waitIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["        if (!$gameMessage.isBusy()) {  // Check if message window is not busy"]},{"code":655,"indent":0,"parameters":["            if (messageStep === 1) {"]},{"code":655,"indent":0,"parameters":["                // Show request message"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(requestText);"]},{"code":655,"indent":0,"parameters":["                messageStep = 2;"]},{"code":655,"indent":0,"parameters":["            } else if (messageStep === 2) {"]},{"code":655,"indent":0,"parameters":["                // Show question and choices"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(questionText);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(choices, 0, 0);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up choice callback"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(function(choiceIndex) {"]},{"code":655,"indent":0,"parameters":["                    if (choiceIndex === correctChoiceIndex) {"]},{"code":655,"indent":0,"parameters":["                        // Correct answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 3;  // Move to next step"]},{"code":655,"indent":0,"parameters":["                    } else {"]},{"code":655,"indent":0,"parameters":["                        // Wrong answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 6;  // Skip to wrong answer message"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                });"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Clear this interval as we'll set up a new one for the next steps"]},{"code":655,"indent":0,"parameters":["                clearInterval(waitIntervalId);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up a new interval for post-choice messages"]},{"code":655,"indent":0,"parameters":["                var postChoiceIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["                    if (!$gameMessage.isBusy()) {"]},{"code":655,"indent":0,"parameters":["                        if (messageStep === 3) {"]},{"code":655,"indent":0,"parameters":["                            // Show correct answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(correctResponseText);"]},{"code":655,"indent":0,"parameters":["                            messageStep = 4;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 4) {"]},{"code":655,"indent":0,"parameters":["                            // Show XP reward message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(rewardText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // Grant XP and set completion flag"]},{"code":655,"indent":0,"parameters":["                            var actor = $gameParty.leader();"]},{"code":655,"indent":0,"parameters":["                            actor.gainExp(rewardXP);"]},{"code":655,"indent":0,"parameters":["                            $gameVariables.setValue(quizCompletedVarId, 1);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            messageStep = 5;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 5) {"]},{"code":655,"indent":0,"parameters":["                            // Show completion message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 6) {"]},{"code":655,"indent":0,"parameters":["                            // Show wrong answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(wrongResponseText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        }"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                }, 100);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }, 100);"]},{"code":655,"indent":0,"parameters":["}"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":1,"y":20},
{"id":26,"name":"monster","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Monster","direction":2,"pattern":0,"characterIndex":1},"list":[{"code":301,"indent":0,"parameters":[0,6,true,false]},{"code":601,"indent":0,"parameters":[]},{"code":123,"indent":1,"parameters":["A",0]},{"code":0,"indent":1,"parameters":[]},{"code":602,"indent":0,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":604,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":41,"parameters":["",0],"indent":null},{"code":41,"parameters":["",0],"indent":null},{"code":15,"parameters":[60],"indent":null},{"code":41,"parameters":["Monster",1],"indent":null},{"code":23,"indent":null},{"code":11,"indent":null},{"code":26,"indent":null},{"code":12,"indent":null},{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":1,"priorityType":1,"stepAnime":true,"through":false,"trigger":1,"walkAnime":true},{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":true,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"","direction":2,"pattern":0,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":13,"y":10},
{"id":27,"name":"monster","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Monster","direction":2,"pattern":0,"characterIndex":1},"list":[{"code":301,"indent":0,"parameters":[0,6,true,false]},{"code":601,"indent":0,"parameters":[]},{"code":123,"indent":1,"parameters":["A",0]},{"code":0,"indent":1,"parameters":[]},{"code":602,"indent":0,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":604,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":41,"parameters":["",0],"indent":null},{"code":41,"parameters":["",0],"indent":null},{"code":15,"parameters":[60],"indent":null},{"code":41,"parameters":["Monster",1],"indent":null},{"code":23,"indent":null},{"code":11,"indent":null},{"code":26,"indent":null},{"code":12,"indent":null},{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":1,"priorityType":1,"stepAnime":true,"through":false,"trigger":1,"walkAnime":true},{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":true,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"","direction":2,"pattern":0,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":16,"y":9},
{"id":28,"name":"Rm 19 Door (Amy Imai)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"","direction":2,"pattern":1,"characterIndex":0},"list":[{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":201,"indent":0,"parameters":[0,25,9,12,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":32,"y":4},
{"id":29,"name":"monster","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Monster","direction":2,"pattern":0,"characterIndex":1},"list":[{"code":301,"indent":0,"parameters":[0,6,true,false]},{"code":601,"indent":0,"parameters":[]},{"code":123,"indent":1,"parameters":["A",0]},{"code":0,"indent":1,"parameters":[]},{"code":602,"indent":0,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":604,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":41,"parameters":["",0],"indent":null},{"code":41,"parameters":["",0],"indent":null},{"code":15,"parameters":[60],"indent":null},{"code":41,"parameters":["Monster",1],"indent":null},{"code":23,"indent":null},{"code":11,"indent":null},{"code":26,"indent":null},{"code":12,"indent":null},{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":1,"priorityType":1,"stepAnime":true,"through":false,"trigger":1,"walkAnime":true},{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":true,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"","direction":2,"pattern":0,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":15,"y":7},
{"id":30,"name":"mrs. lumidao","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"People2","direction":2,"pattern":0,"characterIndex":7},"list":[{"code":355,"indent":0,"parameters":["// Customizable variables"]},{"code":655,"indent":0,"parameters":["var npcName = \"Ms. lumidao\";"]},{"code":655,"indent":0,"parameters":["var npcFaceSet = \"People2\";"]},{"code":655,"indent":0,"parameters":["var npcFaceIndex = 7;"]},{"code":655,"indent":0,"parameters":["var introText = \"%PLAYER_NAME%! Spelling monsters are\\nscrambling all our word walls!\";"]},{"code":655,"indent":0,"parameters":["var requestText = \"Answer this spelling question to\\nhelp restore order to our words!\";"]},{"code":655,"indent":0,"parameters":["var questionText = \"Which word is spelled correctly?\";"]},{"code":655,"indent":0,"parameters":["var choices = [\"Becuz\", \"Becawse\", \"Because\", \"Becas\"];"]},{"code":655,"indent":0,"parameters":["var correctChoiceIndex = 2; // Because"]},{"code":655,"indent":0,"parameters":["var correctResponseText = \"That's right! 'Because' is the\\ncorrect spelling!\";"]},{"code":655,"indent":0,"parameters":["var wrongResponseText = \"That's not the correct spelling. Please\\ncome back when you want to try again.\";"]},{"code":655,"indent":0,"parameters":["var rewardXP = 80;"]},{"code":655,"indent":0,"parameters":["var rewardText = \"You earned \" + rewardXP + \" XP!\";"]},{"code":655,"indent":0,"parameters":["var completionText = \"Excellent! Now help me gather the\\nspelling quiz participants from Room 7!\";"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Track if the player has already completed this quiz"]},{"code":655,"indent":0,"parameters":["var quizCompletedVarId = 20;"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Function to create a sequential message chain"]},{"code":655,"indent":0,"parameters":["function createMessageChain(messages) {"]},{"code":655,"indent":0,"parameters":["    var currentMessageIndex = 0;"]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Show the first message"]},{"code":655,"indent":0,"parameters":["    showNextMessage();"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    function showNextMessage() {"]},{"code":655,"indent":0,"parameters":["        if (currentMessageIndex < messages.length) {"]},{"code":655,"indent":0,"parameters":["            var message = messages[currentMessageIndex];"]},{"code":655,"indent":0,"parameters":["            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setSpeakerName(message.speaker);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setFaceImage(message.faceSet, message.faceIndex);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.add(message.text);"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // If this is the last message and it has choices, add them"]},{"code":655,"indent":0,"parameters":["            if (message.choices && currentMessageIndex === messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(message.choices.options, 0, 0);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(message.choices.callback);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // When current message is done, setup listener for next message"]},{"code":655,"indent":0,"parameters":["            if (currentMessageIndex < messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                var nextMessageListener = function() {"]},{"code":655,"indent":0,"parameters":["                    // Remove the listener to prevent multiple calls"]},{"code":655,"indent":0,"parameters":["                    $gameMessage.removeEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["                    currentMessageIndex++;"]},{"code":655,"indent":0,"parameters":["                    setTimeout(showNextMessage, 10);"]},{"code":655,"indent":0,"parameters":["                };"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                $gameMessage.addEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Unfortunately, RPG Maker MZ doesn't have the addEventListener method as described above."]},{"code":655,"indent":0,"parameters":["// Instead, we need to use a different approach with common events and game switches."]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Check if the quiz has already been completed"]},{"code":655,"indent":0,"parameters":["if ($gameVariables.value(quizCompletedVarId) === 1) {"]},{"code":655,"indent":0,"parameters":["    // Quiz already completed, show completion message only"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["} else {"]},{"code":655,"indent":0,"parameters":["    // First we'll show the intro message"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(introText.replace(\"%PLAYER_NAME%\", $gameParty.leader().name()));"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Use a common event to chain messages"]},{"code":655,"indent":0,"parameters":["    // In RPG Maker, we have to use the \"Show Text\" command multiple times in sequence"]},{"code":655,"indent":0,"parameters":["    // from the event editor, not from script."]},{"code":655,"indent":0,"parameters":["    // But for script purposes, we can use a workaround with conditional branches and message waiting"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    var messageStep = 1;  // Use a step counter to track progress"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Set up an interval to check when the message window is closed"]},{"code":655,"indent":0,"parameters":["    var waitIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["        if (!$gameMessage.isBusy()) {  // Check if message window is not busy"]},{"code":655,"indent":0,"parameters":["            if (messageStep === 1) {"]},{"code":655,"indent":0,"parameters":["                // Show request message"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(requestText);"]},{"code":655,"indent":0,"parameters":["                messageStep = 2;"]},{"code":655,"indent":0,"parameters":["            } else if (messageStep === 2) {"]},{"code":655,"indent":0,"parameters":["                // Show question and choices"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(questionText);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(choices, 0, 0);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up choice callback"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(function(choiceIndex) {"]},{"code":655,"indent":0,"parameters":["                    if (choiceIndex === correctChoiceIndex) {"]},{"code":655,"indent":0,"parameters":["                        // Correct answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 3;  // Move to next step"]},{"code":655,"indent":0,"parameters":["                    } else {"]},{"code":655,"indent":0,"parameters":["                        // Wrong answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 6;  // Skip to wrong answer message"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                });"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Clear this interval as we'll set up a new one for the next steps"]},{"code":655,"indent":0,"parameters":["                clearInterval(waitIntervalId);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up a new interval for post-choice messages"]},{"code":655,"indent":0,"parameters":["                var postChoiceIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["                    if (!$gameMessage.isBusy()) {"]},{"code":655,"indent":0,"parameters":["                        if (messageStep === 3) {"]},{"code":655,"indent":0,"parameters":["                            // Show correct answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(correctResponseText);"]},{"code":655,"indent":0,"parameters":["                            messageStep = 4;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 4) {"]},{"code":655,"indent":0,"parameters":["                            // Show XP reward message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(rewardText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // Grant XP and set completion flag"]},{"code":655,"indent":0,"parameters":["                            var actor = $gameParty.leader();"]},{"code":655,"indent":0,"parameters":["                            actor.gainExp(rewardXP);"]},{"code":655,"indent":0,"parameters":["                            $gameVariables.setValue(quizCompletedVarId, 1);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            messageStep = 5;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 5) {"]},{"code":655,"indent":0,"parameters":["                            // Show completion message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 6) {"]},{"code":655,"indent":0,"parameters":["                            // Show wrong answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(wrongResponseText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        }"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                }, 100);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }, 100);"]},{"code":655,"indent":0,"parameters":["}"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":7,"y":9},
{"id":31,"name":"mrs. mccullough","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"People4","direction":2,"pattern":1,"characterIndex":3},"list":[{"code":355,"indent":0,"parameters":["// Customizable variables"]},{"code":655,"indent":0,"parameters":["var npcName = \"Mrs. mccoullough\";"]},{"code":655,"indent":0,"parameters":["var npcFaceSet = \"People4\";"]},{"code":655,"indent":0,"parameters":["var npcFaceIndex = 3;"]},{"code":655,"indent":0,"parameters":["var introText = \"%PLAYER_NAME%! Community monsters are\\ncreating chaos on our town map!\";"]},{"code":655,"indent":0,"parameters":["var requestText = \"Answer this question about communities\\nto help restore peace!\";"]},{"code":655,"indent":0,"parameters":["var questionText = \"Which of these is NOT a community\\nhelper?\";"]},{"code":655,"indent":0,"parameters":["var choices = [\"Doctor\", \"Firefighter\", \"Lion\", \"Police Officer\"];"]},{"code":655,"indent":0,"parameters":["var correctChoiceIndex = 2; // Lion"]},{"code":655,"indent":0,"parameters":["var correctResponseText = \"That's right! A lion is not a\\ncommunity helper!\";"]},{"code":655,"indent":0,"parameters":["var wrongResponseText = \"That's not the correct answer. Please\\ncome back to try again later.\";"]},{"code":655,"indent":0,"parameters":["var rewardXP = 80;"]},{"code":655,"indent":0,"parameters":["var rewardText = \"You received \" + rewardXP + \" XP!\";"]},{"code":655,"indent":0,"parameters":["var completionText = \"Excellent work! Now help me rescue\\nthe class hamster from Room 8!\";"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Track if the player has already completed this quiz"]},{"code":655,"indent":0,"parameters":["var quizCompletedVarId = 22;"]},{"code":655,"indent":0,"parameters":["// Function to create a sequential message chain"]},{"code":655,"indent":0,"parameters":["function createMessageChain(messages) {"]},{"code":655,"indent":0,"parameters":["    var currentMessageIndex = 0;"]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Show the first message"]},{"code":655,"indent":0,"parameters":["    showNextMessage();"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    function showNextMessage() {"]},{"code":655,"indent":0,"parameters":["        if (currentMessageIndex < messages.length) {"]},{"code":655,"indent":0,"parameters":["            var message = messages[currentMessageIndex];"]},{"code":655,"indent":0,"parameters":["            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setSpeakerName(message.speaker);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setFaceImage(message.faceSet, message.faceIndex);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.add(message.text);"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // If this is the last message and it has choices, add them"]},{"code":655,"indent":0,"parameters":["            if (message.choices && currentMessageIndex === messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(message.choices.options, 0, 0);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(message.choices.callback);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // When current message is done, setup listener for next message"]},{"code":655,"indent":0,"parameters":["            if (currentMessageIndex < messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                var nextMessageListener = function() {"]},{"code":655,"indent":0,"parameters":["                    // Remove the listener to prevent multiple calls"]},{"code":655,"indent":0,"parameters":["                    $gameMessage.removeEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["                    currentMessageIndex++;"]},{"code":655,"indent":0,"parameters":["                    setTimeout(showNextMessage, 10);"]},{"code":655,"indent":0,"parameters":["                };"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                $gameMessage.addEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Unfortunately, RPG Maker MZ doesn't have the addEventListener method as described above."]},{"code":655,"indent":0,"parameters":["// Instead, we need to use a different approach with common events and game switches."]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Check if the quiz has already been completed"]},{"code":655,"indent":0,"parameters":["if ($gameVariables.value(quizCompletedVarId) === 1) {"]},{"code":655,"indent":0,"parameters":["    // Quiz already completed, show completion message only"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["} else {"]},{"code":655,"indent":0,"parameters":["    // First we'll show the intro message"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(introText.replace(\"%PLAYER_NAME%\", $gameParty.leader().name()));"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Use a common event to chain messages"]},{"code":655,"indent":0,"parameters":["    // In RPG Maker, we have to use the \"Show Text\" command multiple times in sequence"]},{"code":655,"indent":0,"parameters":["    // from the event editor, not from script."]},{"code":655,"indent":0,"parameters":["    // But for script purposes, we can use a workaround with conditional branches and message waiting"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    var messageStep = 1;  // Use a step counter to track progress"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Set up an interval to check when the message window is closed"]},{"code":655,"indent":0,"parameters":["    var waitIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["        if (!$gameMessage.isBusy()) {  // Check if message window is not busy"]},{"code":655,"indent":0,"parameters":["            if (messageStep === 1) {"]},{"code":655,"indent":0,"parameters":["                // Show request message"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(requestText);"]},{"code":655,"indent":0,"parameters":["                messageStep = 2;"]},{"code":655,"indent":0,"parameters":["            } else if (messageStep === 2) {"]},{"code":655,"indent":0,"parameters":["                // Show question and choices"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(questionText);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(choices, 0, 0);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up choice callback"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(function(choiceIndex) {"]},{"code":655,"indent":0,"parameters":["                    if (choiceIndex === correctChoiceIndex) {"]},{"code":655,"indent":0,"parameters":["                        // Correct answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 3;  // Move to next step"]},{"code":655,"indent":0,"parameters":["                    } else {"]},{"code":655,"indent":0,"parameters":["                        // Wrong answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 6;  // Skip to wrong answer message"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                });"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Clear this interval as we'll set up a new one for the next steps"]},{"code":655,"indent":0,"parameters":["                clearInterval(waitIntervalId);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up a new interval for post-choice messages"]},{"code":655,"indent":0,"parameters":["                var postChoiceIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["                    if (!$gameMessage.isBusy()) {"]},{"code":655,"indent":0,"parameters":["                        if (messageStep === 3) {"]},{"code":655,"indent":0,"parameters":["                            // Show correct answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(correctResponseText);"]},{"code":655,"indent":0,"parameters":["                            messageStep = 4;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 4) {"]},{"code":655,"indent":0,"parameters":["                            // Show XP reward message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(rewardText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // Grant XP and set completion flag"]},{"code":655,"indent":0,"parameters":["                            var actor = $gameParty.leader();"]},{"code":655,"indent":0,"parameters":["                            actor.gainExp(rewardXP);"]},{"code":655,"indent":0,"parameters":["                            $gameVariables.setValue(quizCompletedVarId, 1);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            messageStep = 5;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 5) {"]},{"code":655,"indent":0,"parameters":["                            // Show completion message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 6) {"]},{"code":655,"indent":0,"parameters":["                            // Show wrong answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(wrongResponseText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        }"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                }, 100);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }, 100);"]},{"code":655,"indent":0,"parameters":["}"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":4,"y":10},
{"id":32,"name":"mrs. ramirez","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Actor3","direction":2,"pattern":1,"characterIndex":1},"list":[{"code":355,"indent":0,"parameters":["var npcName = \"Mrs. Ramirez\";"]},{"code":655,"indent":0,"parameters":["var npcFaceSet = \"Actor3\";"]},{"code":655,"indent":0,"parameters":["var npcFaceIndex = 1;"]},{"code":655,"indent":0,"parameters":["var introText = \"Help, %PLAYER_NAME%! Letter monsters are\\nscrambling our alphabet posters!\";"]},{"code":655,"indent":0,"parameters":["var requestText = \"We need to show them we know our\\nletters! Can you answer this?\";"]},{"code":655,"indent":0,"parameters":["var questionText = \"Which letter makes the 'ssss'\\nsound like in 'snake'?\";"]},{"code":655,"indent":0,"parameters":["var choices = [\"A\", \"S\", \"Z\", \"P\"];"]},{"code":655,"indent":0,"parameters":["var correctChoiceIndex = 1; // S"]},{"code":655,"indent":0,"parameters":["var correctResponseText = \"That's right! S makes the 'ssss'\\nsound like in 'snake'!\";"]},{"code":655,"indent":0,"parameters":["var wrongResponseText = \"That's not it. Please come back\\nwhen you're ready to try again.\";"]},{"code":655,"indent":0,"parameters":["var rewardXP = 60;"]},{"code":655,"indent":0,"parameters":["var rewardText = \"You gained \" + rewardXP + \" XP!\";"]},{"code":655,"indent":0,"parameters":["var completionText = \"Excellent! Please help me rescue the\\nalphabetical flash cards!\";"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Track if the player has already completed this quiz"]},{"code":655,"indent":0,"parameters":["var quizCompletedVarId = 15;"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Function to create a sequential message chain"]},{"code":655,"indent":0,"parameters":["function createMessageChain(messages) {"]},{"code":655,"indent":0,"parameters":["    var currentMessageIndex = 0;"]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Show the first message"]},{"code":655,"indent":0,"parameters":["    showNextMessage();"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    function showNextMessage() {"]},{"code":655,"indent":0,"parameters":["        if (currentMessageIndex < messages.length) {"]},{"code":655,"indent":0,"parameters":["            var message = messages[currentMessageIndex];"]},{"code":655,"indent":0,"parameters":["            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setSpeakerName(message.speaker);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setFaceImage(message.faceSet, message.faceIndex);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.add(message.text);"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // If this is the last message and it has choices, add them"]},{"code":655,"indent":0,"parameters":["            if (message.choices && currentMessageIndex === messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(message.choices.options, 0, 0);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(message.choices.callback);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // When current message is done, setup listener for next message"]},{"code":655,"indent":0,"parameters":["            if (currentMessageIndex < messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                var nextMessageListener = function() {"]},{"code":655,"indent":0,"parameters":["                    // Remove the listener to prevent multiple calls"]},{"code":655,"indent":0,"parameters":["                    $gameMessage.removeEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["                    currentMessageIndex++;"]},{"code":655,"indent":0,"parameters":["                    setTimeout(showNextMessage, 10);"]},{"code":655,"indent":0,"parameters":["                };"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                $gameMessage.addEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Unfortunately, RPG Maker MZ doesn't have the addEventListener method as described above."]},{"code":655,"indent":0,"parameters":["// Instead, we need to use a different approach with common events and game switches."]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Check if the quiz has already been completed"]},{"code":655,"indent":0,"parameters":["if ($gameVariables.value(quizCompletedVarId) === 1) {"]},{"code":655,"indent":0,"parameters":["    // Quiz already completed, show completion message only"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["} else {"]},{"code":655,"indent":0,"parameters":["    // First we'll show the intro message"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(introText.replace(\"%PLAYER_NAME%\", $gameParty.leader().name()));"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Use a common event to chain messages"]},{"code":655,"indent":0,"parameters":["    // In RPG Maker, we have to use the \"Show Text\" command multiple times in sequence"]},{"code":655,"indent":0,"parameters":["    // from the event editor, not from script."]},{"code":655,"indent":0,"parameters":["    // But for script purposes, we can use a workaround with conditional branches and message waiting"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    var messageStep = 1;  // Use a step counter to track progress"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Set up an interval to check when the message window is closed"]},{"code":655,"indent":0,"parameters":["    var waitIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["        if (!$gameMessage.isBusy()) {  // Check if message window is not busy"]},{"code":655,"indent":0,"parameters":["            if (messageStep === 1) {"]},{"code":655,"indent":0,"parameters":["                // Show request message"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(requestText);"]},{"code":655,"indent":0,"parameters":["                messageStep = 2;"]},{"code":655,"indent":0,"parameters":["            } else if (messageStep === 2) {"]},{"code":655,"indent":0,"parameters":["                // Show question and choices"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(questionText);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(choices, 0, 0);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up choice callback"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(function(choiceIndex) {"]},{"code":655,"indent":0,"parameters":["                    if (choiceIndex === correctChoiceIndex) {"]},{"code":655,"indent":0,"parameters":["                        // Correct answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 3;  // Move to next step"]},{"code":655,"indent":0,"parameters":["                    } else {"]},{"code":655,"indent":0,"parameters":["                        // Wrong answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 6;  // Skip to wrong answer message"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                });"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Clear this interval as we'll set up a new one for the next steps"]},{"code":655,"indent":0,"parameters":["                clearInterval(waitIntervalId);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up a new interval for post-choice messages"]},{"code":655,"indent":0,"parameters":["                var postChoiceIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["                    if (!$gameMessage.isBusy()) {"]},{"code":655,"indent":0,"parameters":["                        if (messageStep === 3) {"]},{"code":655,"indent":0,"parameters":["                            // Show correct answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(correctResponseText);"]},{"code":655,"indent":0,"parameters":["                            messageStep = 4;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 4) {"]},{"code":655,"indent":0,"parameters":["                            // Show XP reward message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(rewardText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // Grant XP and set completion flag"]},{"code":655,"indent":0,"parameters":["                            var actor = $gameParty.leader();"]},{"code":655,"indent":0,"parameters":["                            actor.gainExp(rewardXP);"]},{"code":655,"indent":0,"parameters":["                            $gameVariables.setValue(quizCompletedVarId, 1);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            messageStep = 5;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 5) {"]},{"code":655,"indent":0,"parameters":["                            // Show completion message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 6) {"]},{"code":655,"indent":0,"parameters":["                            // Show wrong answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(wrongResponseText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        }"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                }, 100);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }, 100);"]},{"code":655,"indent":0,"parameters":["}"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":26,"y":4},
{"id":33,"name":"ms. chesley","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"SF_Actor1","direction":2,"pattern":1,"characterIndex":1},"list":[{"code":355,"indent":0,"parameters":["// Customizable variables"]},{"code":655,"indent":0,"parameters":["var npcName = \"Mrs. chesley\";"]},{"code":655,"indent":0,"parameters":["var npcFaceSet = \"SF_Actor1\";"]},{"code":655,"indent":0,"parameters":["var npcFaceIndex = 1;"]},{"code":655,"indent":0,"parameters":["var introText = \"%PLAYER_NAME%, number monsters are\\njumbling up our counting charts!\";"]},{"code":655,"indent":0,"parameters":["var requestText = \"Answer this question to help us\\nrestore order to our classroom!\";"]},{"code":655,"indent":0,"parameters":["var questionText = \"What number comes after 9?\";"]},{"code":655,"indent":0,"parameters":["var choices = [\"8\", \"10\", \"11\", \"7\"];"]},{"code":655,"indent":0,"parameters":["var correctChoiceIndex = 1; // 10"]},{"code":655,"indent":0,"parameters":["var correctResponseText = \"Correct! 10 comes right after 9\\nin our number sequence!\";"]},{"code":655,"indent":0,"parameters":["var wrongResponseText = \"That's not the right answer. Come\\nback when you want to try again.\";"]},{"code":655,"indent":0,"parameters":["var rewardXP = 60;"]},{"code":655,"indent":0,"parameters":["var rewardText = \"You earned \" + rewardXP + \" XP!\";"]},{"code":655,"indent":0,"parameters":["var completionText = \"Great! Now please help the students\\nput their number cards in order!\";"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Track if the player has already completed this quiz"]},{"code":655,"indent":0,"parameters":["var quizCompletedVarId = 14;// Function to create a sequential message chain"]},{"code":655,"indent":0,"parameters":["function createMessageChain(messages) {"]},{"code":655,"indent":0,"parameters":["    var currentMessageIndex = 0;"]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Show the first message"]},{"code":655,"indent":0,"parameters":["    showNextMessage();"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    function showNextMessage() {"]},{"code":655,"indent":0,"parameters":["        if (currentMessageIndex < messages.length) {"]},{"code":655,"indent":0,"parameters":["            var message = messages[currentMessageIndex];"]},{"code":655,"indent":0,"parameters":["            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setSpeakerName(message.speaker);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setFaceImage(message.faceSet, message.faceIndex);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.add(message.text);"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // If this is the last message and it has choices, add them"]},{"code":655,"indent":0,"parameters":["            if (message.choices && currentMessageIndex === messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(message.choices.options, 0, 0);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(message.choices.callback);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // When current message is done, setup listener for next message"]},{"code":655,"indent":0,"parameters":["            if (currentMessageIndex < messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                var nextMessageListener = function() {"]},{"code":655,"indent":0,"parameters":["                    // Remove the listener to prevent multiple calls"]},{"code":655,"indent":0,"parameters":["                    $gameMessage.removeEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["                    currentMessageIndex++;"]},{"code":655,"indent":0,"parameters":["                    setTimeout(showNextMessage, 10);"]},{"code":655,"indent":0,"parameters":["                };"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                $gameMessage.addEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Unfortunately, RPG Maker MZ doesn't have the addEventListener method as described above."]},{"code":655,"indent":0,"parameters":["// Instead, we need to use a different approach with common events and game switches."]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Check if the quiz has already been completed"]},{"code":655,"indent":0,"parameters":["if ($gameVariables.value(quizCompletedVarId) === 1) {"]},{"code":655,"indent":0,"parameters":["    // Quiz already completed, show completion message only"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["} else {"]},{"code":655,"indent":0,"parameters":["    // First we'll show the intro message"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(introText.replace(\"%PLAYER_NAME%\", $gameParty.leader().name()));"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Use a common event to chain messages"]},{"code":655,"indent":0,"parameters":["    // In RPG Maker, we have to use the \"Show Text\" command multiple times in sequence"]},{"code":655,"indent":0,"parameters":["    // from the event editor, not from script."]},{"code":655,"indent":0,"parameters":["    // But for script purposes, we can use a workaround with conditional branches and message waiting"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    var messageStep = 1;  // Use a step counter to track progress"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Set up an interval to check when the message window is closed"]},{"code":655,"indent":0,"parameters":["    var waitIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["        if (!$gameMessage.isBusy()) {  // Check if message window is not busy"]},{"code":655,"indent":0,"parameters":["            if (messageStep === 1) {"]},{"code":655,"indent":0,"parameters":["                // Show request message"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(requestText);"]},{"code":655,"indent":0,"parameters":["                messageStep = 2;"]},{"code":655,"indent":0,"parameters":["            } else if (messageStep === 2) {"]},{"code":655,"indent":0,"parameters":["                // Show question and choices"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(questionText);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(choices, 0, 0);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up choice callback"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(function(choiceIndex) {"]},{"code":655,"indent":0,"parameters":["                    if (choiceIndex === correctChoiceIndex) {"]},{"code":655,"indent":0,"parameters":["                        // Correct answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 3;  // Move to next step"]},{"code":655,"indent":0,"parameters":["                    } else {"]},{"code":655,"indent":0,"parameters":["                        // Wrong answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 6;  // Skip to wrong answer message"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                });"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Clear this interval as we'll set up a new one for the next steps"]},{"code":655,"indent":0,"parameters":["                clearInterval(waitIntervalId);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up a new interval for post-choice messages"]},{"code":655,"indent":0,"parameters":["                var postChoiceIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["                    if (!$gameMessage.isBusy()) {"]},{"code":655,"indent":0,"parameters":["                        if (messageStep === 3) {"]},{"code":655,"indent":0,"parameters":["                            // Show correct answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(correctResponseText);"]},{"code":655,"indent":0,"parameters":["                            messageStep = 4;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 4) {"]},{"code":655,"indent":0,"parameters":["                            // Show XP reward message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(rewardText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // Grant XP and set completion flag"]},{"code":655,"indent":0,"parameters":["                            var actor = $gameParty.leader();"]},{"code":655,"indent":0,"parameters":["                            actor.gainExp(rewardXP);"]},{"code":655,"indent":0,"parameters":["                            $gameVariables.setValue(quizCompletedVarId, 1);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            messageStep = 5;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 5) {"]},{"code":655,"indent":0,"parameters":["                            // Show completion message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 6) {"]},{"code":655,"indent":0,"parameters":["                            // Show wrong answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(wrongResponseText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        }"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                }, 100);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }, 100);"]},{"code":655,"indent":0,"parameters":["}"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":24,"y":3},
{"id":34,"name":"mrs.siam","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"SF_People1","direction":2,"pattern":0,"characterIndex":5},"list":[{"code":101,"indent":0,"parameters":["SF_People1",5,0,2,"mrs.siam"]},{"code":401,"indent":0,"parameters":["It's up to you to save Amy Imai!"]},{"code":401,"indent":0,"parameters":["Talk to the teachers and save their classrooms!"]},{"code":101,"indent":0,"parameters":["SF_People1",5,0,2,"mrs.siam"]},{"code":401,"indent":0,"parameters":["Take this skill. It's called Principal's Wrath. "]},{"code":401,"indent":0,"parameters":["hope it helps!"]},{"code":126,"indent":0,"parameters":[10,0,0,1]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":11,"y":3},
{"id":35,"name":"ms. mcclellan","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Actor2","direction":2,"pattern":1,"characterIndex":3},"list":[{"code":355,"indent":0,"parameters":["// Customizable variables"]},{"code":655,"indent":0,"parameters":["var npcName = \"Ms. mcclellan\";"]},{"code":655,"indent":0,"parameters":["var npcFaceSet = \"Actor2\";"]},{"code":655,"indent":0,"parameters":["var npcFaceIndex = 3;"]},{"code":655,"indent":0,"parameters":["var introText = \"%PLAYER_NAME%, multiplication monsters are\\nmessing with our times tables!\";"]},{"code":655,"indent":0,"parameters":["var requestText = \"Answer this math question to help us\\nrestore our multiplication charts!\";"]},{"code":655,"indent":0,"parameters":["var questionText = \"What is 7  8?\";"]},{"code":655,"indent":0,"parameters":["var choices = [\"48\", \"56\", \"64\", \"54\"];"]},{"code":655,"indent":0,"parameters":["var correctChoiceIndex = 1; // 56"]},{"code":655,"indent":0,"parameters":["var correctResponseText = \"That's correct! 7  8 = 56.\\nWell done!\";"]},{"code":655,"indent":0,"parameters":["var wrongResponseText = \"That's not the right answer. Come\\nback when you want to try again.\";"]},{"code":655,"indent":0,"parameters":["var rewardXP = 90;"]},{"code":655,"indent":0,"parameters":["var rewardText = \"You earned \" + rewardXP + \" XP!\";"]},{"code":655,"indent":0,"parameters":["var completionText = \"Fantastic! Now help me rescue the math\\nclub students from the library!\";"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Track if the player has already completed this quiz"]},{"code":655,"indent":0,"parameters":["var quizCompletedVarId = 23;"]},{"code":655,"indent":0,"parameters":["// Function to create a sequential message chain"]},{"code":655,"indent":0,"parameters":["function createMessageChain(messages) {"]},{"code":655,"indent":0,"parameters":["    var currentMessageIndex = 0;"]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Show the first message"]},{"code":655,"indent":0,"parameters":["    showNextMessage();"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    function showNextMessage() {"]},{"code":655,"indent":0,"parameters":["        if (currentMessageIndex < messages.length) {"]},{"code":655,"indent":0,"parameters":["            var message = messages[currentMessageIndex];"]},{"code":655,"indent":0,"parameters":["            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setSpeakerName(message.speaker);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setFaceImage(message.faceSet, message.faceIndex);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.add(message.text);"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // If this is the last message and it has choices, add them"]},{"code":655,"indent":0,"parameters":["            if (message.choices && currentMessageIndex === messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(message.choices.options, 0, 0);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(message.choices.callback);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // When current message is done, setup listener for next message"]},{"code":655,"indent":0,"parameters":["            if (currentMessageIndex < messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                var nextMessageListener = function() {"]},{"code":655,"indent":0,"parameters":["                    // Remove the listener to prevent multiple calls"]},{"code":655,"indent":0,"parameters":["                    $gameMessage.removeEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["                    currentMessageIndex++;"]},{"code":655,"indent":0,"parameters":["                    setTimeout(showNextMessage, 10);"]},{"code":655,"indent":0,"parameters":["                };"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                $gameMessage.addEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Unfortunately, RPG Maker MZ doesn't have the addEventListener method as described above."]},{"code":655,"indent":0,"parameters":["// Instead, we need to use a different approach with common events and game switches."]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Check if the quiz has already been completed"]},{"code":655,"indent":0,"parameters":["if ($gameVariables.value(quizCompletedVarId) === 1) {"]},{"code":655,"indent":0,"parameters":["    // Quiz already completed, show completion message only"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["} else {"]},{"code":655,"indent":0,"parameters":["    // First we'll show the intro message"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(introText.replace(\"%PLAYER_NAME%\", $gameParty.leader().name()));"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Use a common event to chain messages"]},{"code":655,"indent":0,"parameters":["    // In RPG Maker, we have to use the \"Show Text\" command multiple times in sequence"]},{"code":655,"indent":0,"parameters":["    // from the event editor, not from script."]},{"code":655,"indent":0,"parameters":["    // But for script purposes, we can use a workaround with conditional branches and message waiting"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    var messageStep = 1;  // Use a step counter to track progress"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Set up an interval to check when the message window is closed"]},{"code":655,"indent":0,"parameters":["    var waitIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["        if (!$gameMessage.isBusy()) {  // Check if message window is not busy"]},{"code":655,"indent":0,"parameters":["            if (messageStep === 1) {"]},{"code":655,"indent":0,"parameters":["                // Show request message"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(requestText);"]},{"code":655,"indent":0,"parameters":["                messageStep = 2;"]},{"code":655,"indent":0,"parameters":["            } else if (messageStep === 2) {"]},{"code":655,"indent":0,"parameters":["                // Show question and choices"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(questionText);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(choices, 0, 0);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up choice callback"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(function(choiceIndex) {"]},{"code":655,"indent":0,"parameters":["                    if (choiceIndex === correctChoiceIndex) {"]},{"code":655,"indent":0,"parameters":["                        // Correct answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 3;  // Move to next step"]},{"code":655,"indent":0,"parameters":["                    } else {"]},{"code":655,"indent":0,"parameters":["                        // Wrong answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 6;  // Skip to wrong answer message"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                });"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Clear this interval as we'll set up a new one for the next steps"]},{"code":655,"indent":0,"parameters":["                clearInterval(waitIntervalId);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up a new interval for post-choice messages"]},{"code":655,"indent":0,"parameters":["                var postChoiceIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["                    if (!$gameMessage.isBusy()) {"]},{"code":655,"indent":0,"parameters":["                        if (messageStep === 3) {"]},{"code":655,"indent":0,"parameters":["                            // Show correct answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(correctResponseText);"]},{"code":655,"indent":0,"parameters":["                            messageStep = 4;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 4) {"]},{"code":655,"indent":0,"parameters":["                            // Show XP reward message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(rewardText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // Grant XP and set completion flag"]},{"code":655,"indent":0,"parameters":["                            var actor = $gameParty.leader();"]},{"code":655,"indent":0,"parameters":["                            actor.gainExp(rewardXP);"]},{"code":655,"indent":0,"parameters":["                            $gameVariables.setValue(quizCompletedVarId, 1);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            messageStep = 5;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 5) {"]},{"code":655,"indent":0,"parameters":["                            // Show completion message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 6) {"]},{"code":655,"indent":0,"parameters":["                            // Show wrong answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(wrongResponseText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        }"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                }, 100);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }, 100);"]},{"code":655,"indent":0,"parameters":["}"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":16,"y":1},
{"id":36,"name":"ms. harklau","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Actor1","direction":2,"pattern":1,"characterIndex":5},"list":[{"code":355,"indent":0,"parameters":["// Customizable variables"]},{"code":655,"indent":0,"parameters":["var npcName = \"Ms. Harklau\";"]},{"code":655,"indent":0,"parameters":["var npcFaceSet = \"Actor1\";"]},{"code":655,"indent":0,"parameters":["var npcFaceIndex = 5;"]},{"code":655,"indent":0,"parameters":["var introText = \"%PLAYER_NAME%! Weather monsters are\\ncausing chaos in our class corner!\";"]},{"code":655,"indent":0,"parameters":["var requestText = \"Answer this question so we can\\ncalm these wild weather monsters!\";"]},{"code":655,"indent":0,"parameters":["var questionText = \"What falls from clouds during\\na rainstorm?\";"]},{"code":655,"indent":0,"parameters":["var choices = [\"Snow\", \"Rain\", \"Leaves\", \"Sunshine\"];"]},{"code":655,"indent":0,"parameters":["var correctChoiceIndex = 1; // Rain"]},{"code":655,"indent":0,"parameters":["var correctResponseText = \"Yes! Rain falls from clouds\\nduring a rainstorm!\";"]},{"code":655,"indent":0,"parameters":["var wrongResponseText = \"That's not right. Come back when\\nyou're ready to try again.\";"]},{"code":655,"indent":0,"parameters":["var rewardXP = 60;"]},{"code":655,"indent":0,"parameters":["var rewardText = \"You received \" + rewardXP + \" XP!\";"]},{"code":655,"indent":0,"parameters":["var completionText = \"Perfect! Now help me gather the\\nstudents by the weather chart!\";"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Track if the player has already completed this quiz"]},{"code":655,"indent":0,"parameters":["var quizCompletedVarId = 16;// Function to create a sequential message chain"]},{"code":655,"indent":0,"parameters":["function createMessageChain(messages) {"]},{"code":655,"indent":0,"parameters":["    var currentMessageIndex = 0;"]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Show the first message"]},{"code":655,"indent":0,"parameters":["    showNextMessage();"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    function showNextMessage() {"]},{"code":655,"indent":0,"parameters":["        if (currentMessageIndex < messages.length) {"]},{"code":655,"indent":0,"parameters":["            var message = messages[currentMessageIndex];"]},{"code":655,"indent":0,"parameters":["            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setSpeakerName(message.speaker);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setFaceImage(message.faceSet, message.faceIndex);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.add(message.text);"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // If this is the last message and it has choices, add them"]},{"code":655,"indent":0,"parameters":["            if (message.choices && currentMessageIndex === messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(message.choices.options, 0, 0);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(message.choices.callback);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // When current message is done, setup listener for next message"]},{"code":655,"indent":0,"parameters":["            if (currentMessageIndex < messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                var nextMessageListener = function() {"]},{"code":655,"indent":0,"parameters":["                    // Remove the listener to prevent multiple calls"]},{"code":655,"indent":0,"parameters":["                    $gameMessage.removeEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["                    currentMessageIndex++;"]},{"code":655,"indent":0,"parameters":["                    setTimeout(showNextMessage, 10);"]},{"code":655,"indent":0,"parameters":["                };"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                $gameMessage.addEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Unfortunately, RPG Maker MZ doesn't have the addEventListener method as described above."]},{"code":655,"indent":0,"parameters":["// Instead, we need to use a different approach with common events and game switches."]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Check if the quiz has already been completed"]},{"code":655,"indent":0,"parameters":["if ($gameVariables.value(quizCompletedVarId) === 1) {"]},{"code":655,"indent":0,"parameters":["    // Quiz already completed, show completion message only"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["} else {"]},{"code":655,"indent":0,"parameters":["    // First we'll show the intro message"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(introText.replace(\"%PLAYER_NAME%\", $gameParty.leader().name()));"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Use a common event to chain messages"]},{"code":655,"indent":0,"parameters":["    // In RPG Maker, we have to use the \"Show Text\" command multiple times in sequence"]},{"code":655,"indent":0,"parameters":["    // from the event editor, not from script."]},{"code":655,"indent":0,"parameters":["    // But for script purposes, we can use a workaround with conditional branches and message waiting"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    var messageStep = 1;  // Use a step counter to track progress"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Set up an interval to check when the message window is closed"]},{"code":655,"indent":0,"parameters":["    var waitIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["        if (!$gameMessage.isBusy()) {  // Check if message window is not busy"]},{"code":655,"indent":0,"parameters":["            if (messageStep === 1) {"]},{"code":655,"indent":0,"parameters":["                // Show request message"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(requestText);"]},{"code":655,"indent":0,"parameters":["                messageStep = 2;"]},{"code":655,"indent":0,"parameters":["            } else if (messageStep === 2) {"]},{"code":655,"indent":0,"parameters":["                // Show question and choices"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(questionText);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(choices, 0, 0);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up choice callback"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(function(choiceIndex) {"]},{"code":655,"indent":0,"parameters":["                    if (choiceIndex === correctChoiceIndex) {"]},{"code":655,"indent":0,"parameters":["                        // Correct answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 3;  // Move to next step"]},{"code":655,"indent":0,"parameters":["                    } else {"]},{"code":655,"indent":0,"parameters":["                        // Wrong answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 6;  // Skip to wrong answer message"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                });"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Clear this interval as we'll set up a new one for the next steps"]},{"code":655,"indent":0,"parameters":["                clearInterval(waitIntervalId);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up a new interval for post-choice messages"]},{"code":655,"indent":0,"parameters":["                var postChoiceIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["                    if (!$gameMessage.isBusy()) {"]},{"code":655,"indent":0,"parameters":["                        if (messageStep === 3) {"]},{"code":655,"indent":0,"parameters":["                            // Show correct answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(correctResponseText);"]},{"code":655,"indent":0,"parameters":["                            messageStep = 4;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 4) {"]},{"code":655,"indent":0,"parameters":["                            // Show XP reward message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(rewardText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // Grant XP and set completion flag"]},{"code":655,"indent":0,"parameters":["                            var actor = $gameParty.leader();"]},{"code":655,"indent":0,"parameters":["                            actor.gainExp(rewardXP);"]},{"code":655,"indent":0,"parameters":["                            $gameVariables.setValue(quizCompletedVarId, 1);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            messageStep = 5;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 5) {"]},{"code":655,"indent":0,"parameters":["                            // Show completion message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 6) {"]},{"code":655,"indent":0,"parameters":["                            // Show wrong answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(wrongResponseText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        }"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                }, 100);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }, 100);"]},{"code":655,"indent":0,"parameters":["}"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":22,"y":4},
{"id":37,"name":"ms. hinson","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Actor2","direction":2,"pattern":1,"characterIndex":5},"list":[{"code":355,"indent":0,"parameters":["// Customizable variables"]},{"code":655,"indent":0,"parameters":["var npcName = \"Mrs. hinson\";"]},{"code":655,"indent":0,"parameters":["var npcFaceSet = \"Actor2\";"]},{"code":655,"indent":0,"parameters":["var npcFaceIndex = 5;"]},{"code":655,"indent":0,"parameters":["var introText = \"Oh no, %PLAYER_NAME%! Word monsters are\\ntearing pages from our reading books!\";"]},{"code":655,"indent":0,"parameters":["var requestText = \"Answer this reading question to help\\nsave our classroom library!\";"]},{"code":655,"indent":0,"parameters":["var questionText = \"Which word rhymes with 'cat'?\";"]},{"code":655,"indent":0,"parameters":["var choices = [\"Dog\", \"Hat\", \"Pig\", \"Cup\"];"]},{"code":655,"indent":0,"parameters":["var correctChoiceIndex = 1; // Hat"]},{"code":655,"indent":0,"parameters":["var correctResponseText = \"Correct! 'Hat' rhymes with 'cat'!\\nThey both end with the 'at' sound.\";"]},{"code":655,"indent":0,"parameters":["var wrongResponseText = \"That's not right. Please come back\\nwhen you're ready to try again.\";"]},{"code":655,"indent":0,"parameters":["var rewardXP = 70;"]},{"code":655,"indent":0,"parameters":["var rewardText = \"You gained \" + rewardXP + \" XP!\";"]},{"code":655,"indent":0,"parameters":["var completionText = \"Wonderful! Now help me gather the\\nreading group from the corner!\";"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Track if the player has already completed this quiz"]},{"code":655,"indent":0,"parameters":["var quizCompletedVarId = 18;"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Function to create a sequential message chain"]},{"code":655,"indent":0,"parameters":["function createMessageChain(messages) {"]},{"code":655,"indent":0,"parameters":["    var currentMessageIndex = 0;"]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Show the first message"]},{"code":655,"indent":0,"parameters":["    showNextMessage();"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    function showNextMessage() {"]},{"code":655,"indent":0,"parameters":["        if (currentMessageIndex < messages.length) {"]},{"code":655,"indent":0,"parameters":["            var message = messages[currentMessageIndex];"]},{"code":655,"indent":0,"parameters":["            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setSpeakerName(message.speaker);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setFaceImage(message.faceSet, message.faceIndex);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.add(message.text);"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // If this is the last message and it has choices, add them"]},{"code":655,"indent":0,"parameters":["            if (message.choices && currentMessageIndex === messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(message.choices.options, 0, 0);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(message.choices.callback);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // When current message is done, setup listener for next message"]},{"code":655,"indent":0,"parameters":["            if (currentMessageIndex < messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                var nextMessageListener = function() {"]},{"code":655,"indent":0,"parameters":["                    // Remove the listener to prevent multiple calls"]},{"code":655,"indent":0,"parameters":["                    $gameMessage.removeEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["                    currentMessageIndex++;"]},{"code":655,"indent":0,"parameters":["                    setTimeout(showNextMessage, 10);"]},{"code":655,"indent":0,"parameters":["                };"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                $gameMessage.addEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Unfortunately, RPG Maker MZ doesn't have the addEventListener method as described above."]},{"code":655,"indent":0,"parameters":["// Instead, we need to use a different approach with common events and game switches."]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Check if the quiz has already been completed"]},{"code":655,"indent":0,"parameters":["if ($gameVariables.value(quizCompletedVarId) === 1) {"]},{"code":655,"indent":0,"parameters":["    // Quiz already completed, show completion message only"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["} else {"]},{"code":655,"indent":0,"parameters":["    // First we'll show the intro message"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(introText.replace(\"%PLAYER_NAME%\", $gameParty.leader().name()));"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Use a common event to chain messages"]},{"code":655,"indent":0,"parameters":["    // In RPG Maker, we have to use the \"Show Text\" command multiple times in sequence"]},{"code":655,"indent":0,"parameters":["    // from the event editor, not from script."]},{"code":655,"indent":0,"parameters":["    // But for script purposes, we can use a workaround with conditional branches and message waiting"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    var messageStep = 1;  // Use a step counter to track progress"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Set up an interval to check when the message window is closed"]},{"code":655,"indent":0,"parameters":["    var waitIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["        if (!$gameMessage.isBusy()) {  // Check if message window is not busy"]},{"code":655,"indent":0,"parameters":["            if (messageStep === 1) {"]},{"code":655,"indent":0,"parameters":["                // Show request message"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(requestText);"]},{"code":655,"indent":0,"parameters":["                messageStep = 2;"]},{"code":655,"indent":0,"parameters":["            } else if (messageStep === 2) {"]},{"code":655,"indent":0,"parameters":["                // Show question and choices"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(questionText);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(choices, 0, 0);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up choice callback"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(function(choiceIndex) {"]},{"code":655,"indent":0,"parameters":["                    if (choiceIndex === correctChoiceIndex) {"]},{"code":655,"indent":0,"parameters":["                        // Correct answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 3;  // Move to next step"]},{"code":655,"indent":0,"parameters":["                    } else {"]},{"code":655,"indent":0,"parameters":["                        // Wrong answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 6;  // Skip to wrong answer message"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                });"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Clear this interval as we'll set up a new one for the next steps"]},{"code":655,"indent":0,"parameters":["                clearInterval(waitIntervalId);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up a new interval for post-choice messages"]},{"code":655,"indent":0,"parameters":["                var postChoiceIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["                    if (!$gameMessage.isBusy()) {"]},{"code":655,"indent":0,"parameters":["                        if (messageStep === 3) {"]},{"code":655,"indent":0,"parameters":["                            // Show correct answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(correctResponseText);"]},{"code":655,"indent":0,"parameters":["                            messageStep = 4;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 4) {"]},{"code":655,"indent":0,"parameters":["                            // Show XP reward message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(rewardText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // Grant XP and set completion flag"]},{"code":655,"indent":0,"parameters":["                            var actor = $gameParty.leader();"]},{"code":655,"indent":0,"parameters":["                            actor.gainExp(rewardXP);"]},{"code":655,"indent":0,"parameters":["                            $gameVariables.setValue(quizCompletedVarId, 1);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            messageStep = 5;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 5) {"]},{"code":655,"indent":0,"parameters":["                            // Show completion message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 6) {"]},{"code":655,"indent":0,"parameters":["                            // Show wrong answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(wrongResponseText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        }"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                }, 100);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }, 100);"]},{"code":655,"indent":0,"parameters":["}"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":20,"y":3},
{"id":38,"name":"monster","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Monster","direction":2,"pattern":0,"characterIndex":1},"list":[{"code":301,"indent":0,"parameters":[0,6,true,false]},{"code":601,"indent":0,"parameters":[]},{"code":123,"indent":1,"parameters":["A",0]},{"code":0,"indent":1,"parameters":[]},{"code":602,"indent":0,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":604,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":41,"parameters":["",0],"indent":null},{"code":41,"parameters":["",0],"indent":null},{"code":15,"parameters":[60],"indent":null},{"code":41,"parameters":["Monster",1],"indent":null},{"code":23,"indent":null},{"code":11,"indent":null},{"code":26,"indent":null},{"code":12,"indent":null},{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":1,"priorityType":1,"stepAnime":true,"through":false,"trigger":1,"walkAnime":true},{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":true,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"","direction":2,"pattern":0,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":20,"y":9},
{"id":39,"name":"mrs alisa","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"People1","direction":2,"pattern":1,"characterIndex":5},"list":[{"code":355,"indent":0,"parameters":["// Customizable variables"]},{"code":655,"indent":0,"parameters":["var npcName = \"Mrs. Alisa\";"]},{"code":655,"indent":0,"parameters":["var npcFaceSet = \"People1\"; // Use a suitable librarian face"]},{"code":655,"indent":0,"parameters":["var npcFaceIndex = 5;"]},{"code":655,"indent":0,"parameters":["var introText = \"%PLAYER_NAME%! Monsters are attacking the library\\nand tossing books off the shelves!\";"]},{"code":655,"indent":0,"parameters":["var requestText = \"Help me stop them by answering this\\nquestion about book types!\";"]},{"code":655,"indent":0,"parameters":["var questionText = \"Which type of book contains made-up stories?\";"]},{"code":655,"indent":0,"parameters":["var choices = [\"Nonfiction\", \"Fiction\", \"Biography\", \"Dictionary\"];"]},{"code":655,"indent":0,"parameters":["var correctChoiceIndex = 1; // Fiction"]},{"code":655,"indent":0,"parameters":["var correctResponseText = \"Exactly! Fiction books are full of made-up\\nstories that spark the imagination!\";"]},{"code":655,"indent":0,"parameters":["var wrongResponseText = \"Not quite. Remember, nonfiction is based on\\nfacts. Try again!\";"]},{"code":655,"indent":0,"parameters":["var rewardXP = 75;"]},{"code":655,"indent":0,"parameters":["var rewardText = \"You earned \" + rewardXP + \" XP!\";"]},{"code":655,"indent":0,"parameters":["var completionText = \"Well done! Now let's re-shelve these stories\\nbefore the monsters return!\";"]},{"code":655,"indent":0,"parameters":["var quizCompletedVarId = 81;"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Function to create a sequential message chain"]},{"code":655,"indent":0,"parameters":["function createMessageChain(messages) {"]},{"code":655,"indent":0,"parameters":["    var currentMessageIndex = 0;"]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Show the first message"]},{"code":655,"indent":0,"parameters":["    showNextMessage();"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    function showNextMessage() {"]},{"code":655,"indent":0,"parameters":["        if (currentMessageIndex < messages.length) {"]},{"code":655,"indent":0,"parameters":["            var message = messages[currentMessageIndex];"]},{"code":655,"indent":0,"parameters":["            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setSpeakerName(message.speaker);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setFaceImage(message.faceSet, message.faceIndex);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.add(message.text);"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // If this is the last message and it has choices, add them"]},{"code":655,"indent":0,"parameters":["            if (message.choices && currentMessageIndex === messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(message.choices.options, 0, 0);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(message.choices.callback);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // When current message is done, setup listener for next message"]},{"code":655,"indent":0,"parameters":["            if (currentMessageIndex < messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                var nextMessageListener = function() {"]},{"code":655,"indent":0,"parameters":["                    // Remove the listener to prevent multiple calls"]},{"code":655,"indent":0,"parameters":["                    $gameMessage.removeEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["                    currentMessageIndex++;"]},{"code":655,"indent":0,"parameters":["                    setTimeout(showNextMessage, 10);"]},{"code":655,"indent":0,"parameters":["                };"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                $gameMessage.addEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Unfortunately, RPG Maker MZ doesn't have the addEventListener method as described above."]},{"code":655,"indent":0,"parameters":["// Instead, we need to use a different approach with common events and game switches."]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Check if the quiz has already been completed"]},{"code":655,"indent":0,"parameters":["if ($gameVariables.value(quizCompletedVarId) === 1) {"]},{"code":655,"indent":0,"parameters":["    // Quiz already completed, show completion message only"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["} else {"]},{"code":655,"indent":0,"parameters":["    // First we'll show the intro message"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(introText.replace(\"%PLAYER_NAME%\", $gameParty.leader().name()));"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Use a common event to chain messages"]},{"code":655,"indent":0,"parameters":["    // In RPG Maker, we have to use the \"Show Text\" command multiple times in sequence"]},{"code":655,"indent":0,"parameters":["    // from the event editor, not from script."]},{"code":655,"indent":0,"parameters":["    // But for script purposes, we can use a workaround with conditional branches and message waiting"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    var messageStep = 1;  // Use a step counter to track progress"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Set up an interval to check when the message window is closed"]},{"code":655,"indent":0,"parameters":["    var waitIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["        if (!$gameMessage.isBusy()) {  // Check if message window is not busy"]},{"code":655,"indent":0,"parameters":["            if (messageStep === 1) {"]},{"code":655,"indent":0,"parameters":["                // Show request message"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(requestText);"]},{"code":655,"indent":0,"parameters":["                messageStep = 2;"]},{"code":655,"indent":0,"parameters":["            } else if (messageStep === 2) {"]},{"code":655,"indent":0,"parameters":["                // Show question and choices"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(questionText);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(choices, 0, 0);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up choice callback"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(function(choiceIndex) {"]},{"code":655,"indent":0,"parameters":["                    if (choiceIndex === correctChoiceIndex) {"]},{"code":655,"indent":0,"parameters":["                        // Correct answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 3;  // Move to next step"]},{"code":655,"indent":0,"parameters":["                    } else {"]},{"code":655,"indent":0,"parameters":["                        // Wrong answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 6;  // Skip to wrong answer message"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                });"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Clear this interval as we'll set up a new one for the next steps"]},{"code":655,"indent":0,"parameters":["                clearInterval(waitIntervalId);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up a new interval for post-choice messages"]},{"code":655,"indent":0,"parameters":["                var postChoiceIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["                    if (!$gameMessage.isBusy()) {"]},{"code":655,"indent":0,"parameters":["                        if (messageStep === 3) {"]},{"code":655,"indent":0,"parameters":["                            // Show correct answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(correctResponseText);"]},{"code":655,"indent":0,"parameters":["                            messageStep = 4;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 4) {"]},{"code":655,"indent":0,"parameters":["                            // Show XP reward message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(rewardText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // Grant XP and set completion flag"]},{"code":655,"indent":0,"parameters":["                            var actor = $gameParty.leader();"]},{"code":655,"indent":0,"parameters":["                            actor.gainExp(rewardXP);"]},{"code":655,"indent":0,"parameters":["                            $gameVariables.setValue(quizCompletedVarId, 1);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            messageStep = 5;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 5) {"]},{"code":655,"indent":0,"parameters":["                            // Show completion message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 6) {"]},{"code":655,"indent":0,"parameters":["                            // Show wrong answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(wrongResponseText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        }"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                }, 100);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }, 100);"]},{"code":655,"indent":0,"parameters":["}"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":7,"y":4},
{"id":40,"name":"monster","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Monster","direction":2,"pattern":0,"characterIndex":1},"list":[{"code":301,"indent":0,"parameters":[0,6,true,false]},{"code":601,"indent":0,"parameters":[]},{"code":123,"indent":1,"parameters":["A",0]},{"code":0,"indent":1,"parameters":[]},{"code":602,"indent":0,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":604,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":41,"parameters":["",0],"indent":null},{"code":41,"parameters":["",0],"indent":null},{"code":15,"parameters":[60],"indent":null},{"code":41,"parameters":["Monster",1],"indent":null},{"code":23,"indent":null},{"code":11,"indent":null},{"code":26,"indent":null},{"code":12,"indent":null},{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":1,"priorityType":1,"stepAnime":true,"through":false,"trigger":1,"walkAnime":true},{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":true,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"","direction":2,"pattern":0,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":21,"y":7},
{"id":41,"name":"monster","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Monster","direction":2,"pattern":0,"characterIndex":1},"list":[{"code":301,"indent":0,"parameters":[0,6,true,false]},{"code":601,"indent":0,"parameters":[]},{"code":123,"indent":1,"parameters":["A",0]},{"code":0,"indent":1,"parameters":[]},{"code":602,"indent":0,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":604,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":41,"parameters":["",0],"indent":null},{"code":41,"parameters":["",0],"indent":null},{"code":15,"parameters":[60],"indent":null},{"code":41,"parameters":["Monster",1],"indent":null},{"code":23,"indent":null},{"code":11,"indent":null},{"code":26,"indent":null},{"code":12,"indent":null},{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":1,"priorityType":1,"stepAnime":true,"through":false,"trigger":1,"walkAnime":true},{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":true,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"","direction":2,"pattern":0,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":22,"y":13},
{"id":42,"name":"Transfer (shop)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"","direction":2,"pattern":0,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Move1","volume":90,"pitch":100,"pan":0}]},{"code":201,"indent":0,"parameters":[0,3,9,11,8,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":1,"walkAnime":true}],"x":4,"y":23},
{"id":43,"name":"Transfer (shop)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"","direction":2,"pattern":0,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Move1","volume":90,"pitch":100,"pan":0}]},{"code":201,"indent":0,"parameters":[0,3,9,11,8,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":1,"walkAnime":true}],"x":5,"y":23},
{"id":44,"name":"monster","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Monster","direction":2,"pattern":0,"characterIndex":1},"list":[{"code":301,"indent":0,"parameters":[0,6,true,false]},{"code":601,"indent":0,"parameters":[]},{"code":123,"indent":1,"parameters":["A",0]},{"code":0,"indent":1,"parameters":[]},{"code":602,"indent":0,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":604,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":41,"parameters":["",0],"indent":null},{"code":41,"parameters":["",0],"indent":null},{"code":15,"parameters":[60],"indent":null},{"code":41,"parameters":["Monster",1],"indent":null},{"code":23,"indent":null},{"code":11,"indent":null},{"code":26,"indent":null},{"code":12,"indent":null},{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":1,"priorityType":1,"stepAnime":true,"through":false,"trigger":1,"walkAnime":true},{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":true,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"","direction":2,"pattern":0,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":25,"y":15},
{"id":45,"name":"monster","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Monster","direction":2,"pattern":0,"characterIndex":1},"list":[{"code":301,"indent":0,"parameters":[0,6,true,false]},{"code":601,"indent":0,"parameters":[]},{"code":123,"indent":1,"parameters":["A",0]},{"code":0,"indent":1,"parameters":[]},{"code":602,"indent":0,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":604,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":41,"parameters":["",0],"indent":null},{"code":41,"parameters":["",0],"indent":null},{"code":15,"parameters":[60],"indent":null},{"code":41,"parameters":["Monster",1],"indent":null},{"code":23,"indent":null},{"code":11,"indent":null},{"code":26,"indent":null},{"code":12,"indent":null},{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":1,"priorityType":1,"stepAnime":true,"through":false,"trigger":1,"walkAnime":true},{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":true,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"","direction":2,"pattern":0,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":20,"y":20},
{"id":46,"name":"monster","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Monster","direction":2,"pattern":0,"characterIndex":1},"list":[{"code":301,"indent":0,"parameters":[0,6,true,false]},{"code":601,"indent":0,"parameters":[]},{"code":123,"indent":1,"parameters":["A",0]},{"code":0,"indent":1,"parameters":[]},{"code":602,"indent":0,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":604,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":41,"parameters":["",0],"indent":null},{"code":41,"parameters":["",0],"indent":null},{"code":15,"parameters":[60],"indent":null},{"code":41,"parameters":["Monster",1],"indent":null},{"code":23,"indent":null},{"code":11,"indent":null},{"code":26,"indent":null},{"code":12,"indent":null},{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":1,"priorityType":1,"stepAnime":true,"through":false,"trigger":1,"walkAnime":true},{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":true,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"","direction":2,"pattern":0,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":14,"y":17},
{"id":47,"name":"monster","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Monster","direction":2,"pattern":0,"characterIndex":1},"list":[{"code":301,"indent":0,"parameters":[0,6,true,false]},{"code":601,"indent":0,"parameters":[]},{"code":123,"indent":1,"parameters":["A",0]},{"code":0,"indent":1,"parameters":[]},{"code":602,"indent":0,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":604,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":41,"parameters":["",0],"indent":null},{"code":41,"parameters":["",0],"indent":null},{"code":15,"parameters":[60],"indent":null},{"code":41,"parameters":["Monster",1],"indent":null},{"code":23,"indent":null},{"code":11,"indent":null},{"code":26,"indent":null},{"code":12,"indent":null},{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":1,"priorityType":1,"stepAnime":true,"through":false,"trigger":1,"walkAnime":true},{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":true,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"","direction":2,"pattern":0,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":28,"y":9},
{"id":48,"name":"monster","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Monster","direction":2,"pattern":0,"characterIndex":1},"list":[{"code":301,"indent":0,"parameters":[0,6,true,false]},{"code":601,"indent":0,"parameters":[]},{"code":123,"indent":1,"parameters":["A",0]},{"code":0,"indent":1,"parameters":[]},{"code":602,"indent":0,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":604,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":41,"parameters":["",0],"indent":null},{"code":41,"parameters":["",0],"indent":null},{"code":15,"parameters":[60],"indent":null},{"code":41,"parameters":["Monster",1],"indent":null},{"code":23,"indent":null},{"code":11,"indent":null},{"code":26,"indent":null},{"code":12,"indent":null},{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":1,"priorityType":1,"stepAnime":true,"through":false,"trigger":1,"walkAnime":true},{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":true,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"","direction":2,"pattern":0,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":28,"y":19},
{"id":49,"name":"monster","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Monster","direction":2,"pattern":0,"characterIndex":1},"list":[{"code":301,"indent":0,"parameters":[0,6,true,false]},{"code":601,"indent":0,"parameters":[]},{"code":123,"indent":1,"parameters":["A",0]},{"code":0,"indent":1,"parameters":[]},{"code":602,"indent":0,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":604,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":41,"parameters":["",0],"indent":null},{"code":41,"parameters":["",0],"indent":null},{"code":15,"parameters":[60],"indent":null},{"code":41,"parameters":["Monster",1],"indent":null},{"code":23,"indent":null},{"code":11,"indent":null},{"code":26,"indent":null},{"code":12,"indent":null},{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":1,"priorityType":1,"stepAnime":true,"through":false,"trigger":1,"walkAnime":true},{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":true,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"","direction":2,"pattern":0,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":31,"y":25},
{"id":50,"name":"monster","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Monster","direction":2,"pattern":0,"characterIndex":1},"list":[{"code":301,"indent":0,"parameters":[0,6,true,false]},{"code":601,"indent":0,"parameters":[]},{"code":123,"indent":1,"parameters":["A",0]},{"code":0,"indent":1,"parameters":[]},{"code":602,"indent":0,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":604,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":41,"parameters":["",0],"indent":null},{"code":41,"parameters":["",0],"indent":null},{"code":15,"parameters":[60],"indent":null},{"code":41,"parameters":["Monster",1],"indent":null},{"code":23,"indent":null},{"code":11,"indent":null},{"code":26,"indent":null},{"code":12,"indent":null},{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":1,"priorityType":1,"stepAnime":true,"through":false,"trigger":1,"walkAnime":true},{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":true,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"","direction":2,"pattern":0,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":16,"y":27},
{"id":51,"name":"monster","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Monster","direction":2,"pattern":0,"characterIndex":1},"list":[{"code":301,"indent":0,"parameters":[0,6,true,false]},{"code":601,"indent":0,"parameters":[]},{"code":123,"indent":1,"parameters":["A",0]},{"code":0,"indent":1,"parameters":[]},{"code":602,"indent":0,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":604,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":41,"parameters":["",0],"indent":null},{"code":41,"parameters":["",0],"indent":null},{"code":15,"parameters":[60],"indent":null},{"code":41,"parameters":["Monster",1],"indent":null},{"code":23,"indent":null},{"code":11,"indent":null},{"code":26,"indent":null},{"code":12,"indent":null},{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":1,"priorityType":1,"stepAnime":true,"through":false,"trigger":1,"walkAnime":true},{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":true,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"","direction":2,"pattern":0,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":9,"y":27},
{"id":52,"name":"Door (to library)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"!Door1","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Open1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":19},{"code":37},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":19}]},{"code":505,"indent":0,"parameters":[{"code":37}]},{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":250,"indent":0,"parameters":[{"name":"Move1","volume":90,"pitch":100,"pan":0}]},{"code":201,"indent":0,"parameters":[0,5,14,12,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":8,"y":3},
{"id":53,"name":"monster","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Monster","direction":2,"pattern":0,"characterIndex":1},"list":[{"code":301,"indent":0,"parameters":[0,6,true,false]},{"code":601,"indent":0,"parameters":[]},{"code":123,"indent":1,"parameters":["A",0]},{"code":0,"indent":1,"parameters":[]},{"code":602,"indent":0,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":604,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":41,"parameters":["",0],"indent":null},{"code":41,"parameters":["",0],"indent":null},{"code":15,"parameters":[60],"indent":null},{"code":41,"parameters":["Monster",1],"indent":null},{"code":23,"indent":null},{"code":11,"indent":null},{"code":26,"indent":null},{"code":12,"indent":null},{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":1,"priorityType":1,"stepAnime":true,"through":false,"trigger":1,"walkAnime":true},{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":true,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"","direction":2,"pattern":0,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":39,"y":9},
{"id":54,"name":"Treasure (50G)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":true,"image":{"characterIndex":0,"characterName":"!Chest","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Chest1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":36},{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":36}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":123,"indent":0,"parameters":["A",0]},{"code":125,"indent":0,"parameters":[0,0,50]},{"code":101,"indent":0,"parameters":["",0,0,2]},{"code":401,"indent":0,"parameters":["50\\G were found!"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":true,"through":false,"trigger":0,"walkAnime":true},{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":true,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":true,"image":{"characterIndex":0,"characterName":"!Chest","direction":8,"pattern":1,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":false}],"x":23,"y":20},
{"id":55,"name":"Treasure (50G)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":true,"image":{"characterIndex":0,"characterName":"!Chest","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Chest1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":36},{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":36}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":123,"indent":0,"parameters":["A",0]},{"code":125,"indent":0,"parameters":[0,0,50]},{"code":101,"indent":0,"parameters":["",0,0,2]},{"code":401,"indent":0,"parameters":["50\\G were found!"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":true,"through":false,"trigger":0,"walkAnime":true},{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":true,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":true,"image":{"characterIndex":0,"characterName":"!Chest","direction":8,"pattern":1,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":false}],"x":35,"y":17},
{"id":56,"name":"Treasure (50G)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":true,"image":{"characterIndex":0,"characterName":"!Chest","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Chest1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":36},{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":36}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":123,"indent":0,"parameters":["A",0]},{"code":125,"indent":0,"parameters":[0,0,50]},{"code":101,"indent":0,"parameters":["",0,0,2]},{"code":401,"indent":0,"parameters":["50\\G were found!"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":true,"through":false,"trigger":0,"walkAnime":true},{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":true,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":true,"image":{"characterIndex":0,"characterName":"!Chest","direction":8,"pattern":1,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":false}],"x":36,"y":3},
{"id":57,"name":"Treasure (50G)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":true,"image":{"characterIndex":0,"characterName":"!Chest","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Chest1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":36},{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":36}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":123,"indent":0,"parameters":["A",0]},{"code":125,"indent":0,"parameters":[0,0,50]},{"code":101,"indent":0,"parameters":["",0,0,2]},{"code":401,"indent":0,"parameters":["50\\G were found!"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":true,"through":false,"trigger":0,"walkAnime":true},{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":true,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":true,"image":{"characterIndex":0,"characterName":"!Chest","direction":8,"pattern":1,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":false}],"x":3,"y":30},
{"id":58,"name":"Treasure (50G)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":true,"image":{"characterIndex":0,"characterName":"!Chest","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Chest1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":36},{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":36}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":123,"indent":0,"parameters":["A",0]},{"code":125,"indent":0,"parameters":[0,0,50]},{"code":101,"indent":0,"parameters":["",0,0,2]},{"code":401,"indent":0,"parameters":["50\\G were found!"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":true,"through":false,"trigger":0,"walkAnime":true},{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":true,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":true,"image":{"characterIndex":0,"characterName":"!Chest","direction":8,"pattern":1,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":false}],"x":20,"y":28},
{"id":59,"name":"Treasure (50G)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":true,"image":{"characterIndex":0,"characterName":"!Chest","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Chest1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":36},{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":36}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":123,"indent":0,"parameters":["A",0]},{"code":125,"indent":0,"parameters":[0,0,50]},{"code":101,"indent":0,"parameters":["",0,0,2]},{"code":401,"indent":0,"parameters":["50\\G were found!"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":true,"through":false,"trigger":0,"walkAnime":true},{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":true,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":true,"image":{"characterIndex":0,"characterName":"!Chest","direction":8,"pattern":1,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":false}],"x":18,"y":10},
{"id":60,"name":"Treasure (50G)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":true,"image":{"characterIndex":0,"characterName":"!Chest","direction":2,"pattern":1,"tileId":0},"list":[{"code":250,"indent":0,"parameters":[{"name":"Chest1","volume":90,"pitch":100,"pan":0}]},{"code":205,"indent":0,"parameters":[0,{"repeat":false,"skippable":false,"wait":true,"list":[{"code":36},{"code":17},{"code":15,"parameters":[3]},{"code":18},{"code":15,"parameters":[3]},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":36}]},{"code":505,"indent":0,"parameters":[{"code":17}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":505,"indent":0,"parameters":[{"code":18}]},{"code":505,"indent":0,"parameters":[{"code":15,"parameters":[3]}]},{"code":123,"indent":0,"parameters":["A",0]},{"code":125,"indent":0,"parameters":[0,0,50]},{"code":101,"indent":0,"parameters":["",0,0,2]},{"code":401,"indent":0,"parameters":["50\\G were found!"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":true,"through":false,"trigger":0,"walkAnime":true},{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":true,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":true,"image":{"characterIndex":0,"characterName":"!Chest","direction":8,"pattern":1,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":false}],"x":24,"y":8},
null,
null,
null,
null,
null,
null,
null,
null,
null,
null,
null,
null,
null,
{"id":74,"name":"Rm 20 Door (Amy Imai)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"","direction":2,"pattern":1,"characterIndex":0},"list":[{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":201,"indent":0,"parameters":[0,26,9,3,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":32,"y":6},
{"id":75,"name":"Rm 21 Door (Amy Imai)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"","direction":2,"pattern":1,"characterIndex":0},"list":[{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":201,"indent":0,"parameters":[0,27,9,12,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":32,"y":8},
{"id":76,"name":"Rm 22 Door (Amy Imai)","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"","direction":2,"pattern":1,"characterIndex":0},"list":[{"code":205,"indent":0,"parameters":[-1,{"repeat":false,"skippable":true,"wait":true,"list":[{"code":12},{"code":0}]}]},{"code":505,"indent":0,"parameters":[{"code":12}]},{"code":201,"indent":0,"parameters":[0,28,9,12,0,0]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":1,"walkAnime":false}],"x":32,"y":10},
null,
null,
null,
{"id":80,"name":"monster","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Monster","direction":2,"pattern":0,"characterIndex":1},"list":[{"code":301,"indent":0,"parameters":[0,6,true,false]},{"code":601,"indent":0,"parameters":[]},{"code":123,"indent":1,"parameters":["A",0]},{"code":0,"indent":1,"parameters":[]},{"code":602,"indent":0,"parameters":[]},{"code":0,"indent":1,"parameters":[]},{"code":604,"indent":0,"parameters":[]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":41,"parameters":["",0],"indent":null},{"code":41,"parameters":["",0],"indent":null},{"code":15,"parameters":[60],"indent":null},{"code":41,"parameters":["Monster",1],"indent":null},{"code":23,"indent":null},{"code":11,"indent":null},{"code":26,"indent":null},{"code":12,"indent":null},{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":1,"priorityType":1,"stepAnime":true,"through":false,"trigger":1,"walkAnime":true},{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":true,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"","direction":2,"pattern":0,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":12,"y":13},
null,
{"id":82,"name":"ms. wong","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Actor3","direction":2,"pattern":1,"characterIndex":7},"list":[{"code":355,"indent":0,"parameters":["// Customizable variables"]},{"code":655,"indent":0,"parameters":["var npcName = \"Ms. wong\";"]},{"code":655,"indent":0,"parameters":["var npcFaceSet = \"Actor3\";"]},{"code":655,"indent":0,"parameters":["var npcFaceIndex = 7;"]},{"code":655,"indent":0,"parameters":["var introText = \"%PLAYER_NAME%! Math monsters are stealing\\nour counting blocks and calculators!\";"]},{"code":655,"indent":0,"parameters":["var requestText = \"If you can solve this math problem,\\nwe'll gain power to fight back!\";"]},{"code":655,"indent":0,"parameters":["var questionText = \"What is 5 + 7?\";"]},{"code":655,"indent":0,"parameters":["var choices = [\"11\", \"12\", \"13\", \"10\"];"]},{"code":655,"indent":0,"parameters":["var correctChoiceIndex = 1; // 12"]},{"code":655,"indent":0,"parameters":["var correctResponseText = \"That's correct! 5 + 7 = 12.\\nWell done!\";"]},{"code":655,"indent":0,"parameters":["var wrongResponseText = \"That's not the right answer. Come\\nback when you want to try again.\";"]},{"code":655,"indent":0,"parameters":["var rewardXP = 70;"]},{"code":655,"indent":0,"parameters":["var rewardText = \"You earned \" + rewardXP + \" XP!\";"]},{"code":655,"indent":0,"parameters":["var completionText = \"Fantastic! Now help me rescue the\\nstudents trapped in the math corner!\";"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Track if the player has already completed this quiz"]},{"code":655,"indent":0,"parameters":["var quizCompletedVarId = 17;"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Function to create a sequential message chain"]},{"code":655,"indent":0,"parameters":["function createMessageChain(messages) {"]},{"code":655,"indent":0,"parameters":["    var currentMessageIndex = 0;"]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Show the first message"]},{"code":655,"indent":0,"parameters":["    showNextMessage();"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    function showNextMessage() {"]},{"code":655,"indent":0,"parameters":["        if (currentMessageIndex < messages.length) {"]},{"code":655,"indent":0,"parameters":["            var message = messages[currentMessageIndex];"]},{"code":655,"indent":0,"parameters":["            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setSpeakerName(message.speaker);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setFaceImage(message.faceSet, message.faceIndex);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.add(message.text);"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // If this is the last message and it has choices, add them"]},{"code":655,"indent":0,"parameters":["            if (message.choices && currentMessageIndex === messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(message.choices.options, 0, 0);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(message.choices.callback);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // When current message is done, setup listener for next message"]},{"code":655,"indent":0,"parameters":["            if (currentMessageIndex < messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                var nextMessageListener = function() {"]},{"code":655,"indent":0,"parameters":["                    // Remove the listener to prevent multiple calls"]},{"code":655,"indent":0,"parameters":["                    $gameMessage.removeEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["                    currentMessageIndex++;"]},{"code":655,"indent":0,"parameters":["                    setTimeout(showNextMessage, 10);"]},{"code":655,"indent":0,"parameters":["                };"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                $gameMessage.addEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Unfortunately, RPG Maker MZ doesn't have the addEventListener method as described above."]},{"code":655,"indent":0,"parameters":["// Instead, we need to use a different approach with common events and game switches."]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Check if the quiz has already been completed"]},{"code":655,"indent":0,"parameters":["if ($gameVariables.value(quizCompletedVarId) === 1) {"]},{"code":655,"indent":0,"parameters":["    // Quiz already completed, show completion message only"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["} else {"]},{"code":655,"indent":0,"parameters":["    // First we'll show the intro message"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(introText.replace(\"%PLAYER_NAME%\", $gameParty.leader().name()));"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Use a common event to chain messages"]},{"code":655,"indent":0,"parameters":["    // In RPG Maker, we have to use the \"Show Text\" command multiple times in sequence"]},{"code":655,"indent":0,"parameters":["    // from the event editor, not from script."]},{"code":655,"indent":0,"parameters":["    // But for script purposes, we can use a workaround with conditional branches and message waiting"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    var messageStep = 1;  // Use a step counter to track progress"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Set up an interval to check when the message window is closed"]},{"code":655,"indent":0,"parameters":["    var waitIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["        if (!$gameMessage.isBusy()) {  // Check if message window is not busy"]},{"code":655,"indent":0,"parameters":["            if (messageStep === 1) {"]},{"code":655,"indent":0,"parameters":["                // Show request message"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(requestText);"]},{"code":655,"indent":0,"parameters":["                messageStep = 2;"]},{"code":655,"indent":0,"parameters":["            } else if (messageStep === 2) {"]},{"code":655,"indent":0,"parameters":["                // Show question and choices"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(questionText);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(choices, 0, 0);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up choice callback"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(function(choiceIndex) {"]},{"code":655,"indent":0,"parameters":["                    if (choiceIndex === correctChoiceIndex) {"]},{"code":655,"indent":0,"parameters":["                        // Correct answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 3;  // Move to next step"]},{"code":655,"indent":0,"parameters":["                    } else {"]},{"code":655,"indent":0,"parameters":["                        // Wrong answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 6;  // Skip to wrong answer message"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                });"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Clear this interval as we'll set up a new one for the next steps"]},{"code":655,"indent":0,"parameters":["                clearInterval(waitIntervalId);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up a new interval for post-choice messages"]},{"code":655,"indent":0,"parameters":["                var postChoiceIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["                    if (!$gameMessage.isBusy()) {"]},{"code":655,"indent":0,"parameters":["                        if (messageStep === 3) {"]},{"code":655,"indent":0,"parameters":["                            // Show correct answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(correctResponseText);"]},{"code":655,"indent":0,"parameters":["                            messageStep = 4;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 4) {"]},{"code":655,"indent":0,"parameters":["                            // Show XP reward message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(rewardText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // Grant XP and set completion flag"]},{"code":655,"indent":0,"parameters":["                            var actor = $gameParty.leader();"]},{"code":655,"indent":0,"parameters":["                            actor.gainExp(rewardXP);"]},{"code":655,"indent":0,"parameters":["                            $gameVariables.setValue(quizCompletedVarId, 1);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            messageStep = 5;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 5) {"]},{"code":655,"indent":0,"parameters":["                            // Show completion message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 6) {"]},{"code":655,"indent":0,"parameters":["                            // Show wrong answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(wrongResponseText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        }"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                }, 100);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }, 100);"]},{"code":655,"indent":0,"parameters":["}"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":18,"y":4},
{"id":83,"name":"ms. geer","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"People1","direction":2,"pattern":1,"characterIndex":3},"list":[{"code":101,"indent":0,"parameters":["People1",3,0,2,"ms. geer"]},{"code":401,"indent":0,"parameters":["hi!"]},{"code":355,"indent":0,"parameters":["// Customizable variables"]},{"code":655,"indent":0,"parameters":["var npcName = \"Ms. Geer\";"]},{"code":655,"indent":0,"parameters":["var npcFaceSet = \"People1\";"]},{"code":655,"indent":0,"parameters":["var npcFaceIndex = 3;"]},{"code":655,"indent":0,"parameters":["var introText = \"%PLAYER_NAME%, our water cycle diagram has\\nbeen scrambled by science gremlins!\";"]},{"code":655,"indent":0,"parameters":["var requestText = \"Answer this science question to help\\nrestore order to our classroom model!\";"]},{"code":655,"indent":0,"parameters":["var questionText = \"What is the process called when water\\nvapor turns into liquid water?\";"]},{"code":655,"indent":0,"parameters":["var choices = [\"Evaporation\", \"Condensation\", \"Precipitation\", \"Collection\"];"]},{"code":655,"indent":0,"parameters":["var correctChoiceIndex = 1; // Condensation"]},{"code":655,"indent":0,"parameters":["var correctResponseText = \"Excellent! Condensation is when water vapor\\ncools and changes from a gas to a liquid,\\nlike when clouds form!\";"]},{"code":655,"indent":0,"parameters":["var wrongResponseText = \"That's not the correct process.\\nLook at your water cycle notes and try again!\";"]},{"code":655,"indent":0,"parameters":["var rewardXP = 90;"]},{"code":655,"indent":0,"parameters":["var rewardText = \"You earned \" + rewardXP + \" XP!\";"]},{"code":655,"indent":0,"parameters":["var completionText = \"Terrific job! Now help me sort these\\nrock samples by their formation type!\";"]},{"code":655,"indent":0,"parameters":["// Track if the player has already completed this quiz"]},{"code":655,"indent":0,"parameters":["var quizCompletedVarId = 80;"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Function to create a sequential message chain"]},{"code":655,"indent":0,"parameters":["function createMessageChain(messages) {"]},{"code":655,"indent":0,"parameters":["    var currentMessageIndex = 0;"]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Show the first message"]},{"code":655,"indent":0,"parameters":["    showNextMessage();"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    function showNextMessage() {"]},{"code":655,"indent":0,"parameters":["        if (currentMessageIndex < messages.length) {"]},{"code":655,"indent":0,"parameters":["            var message = messages[currentMessageIndex];"]},{"code":655,"indent":0,"parameters":["            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setSpeakerName(message.speaker);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setFaceImage(message.faceSet, message.faceIndex);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.add(message.text);"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // If this is the last message and it has choices, add them"]},{"code":655,"indent":0,"parameters":["            if (message.choices && currentMessageIndex === messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(message.choices.options, 0, 0);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(message.choices.callback);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // When current message is done, setup listener for next message"]},{"code":655,"indent":0,"parameters":["            if (currentMessageIndex < messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                var nextMessageListener = function() {"]},{"code":655,"indent":0,"parameters":["                    // Remove the listener to prevent multiple calls"]},{"code":655,"indent":0,"parameters":["                    $gameMessage.removeEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["                    currentMessageIndex++;"]},{"code":655,"indent":0,"parameters":["                    setTimeout(showNextMessage, 10);"]},{"code":655,"indent":0,"parameters":["                };"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                $gameMessage.addEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Unfortunately, RPG Maker MZ doesn't have the addEventListener method as described above."]},{"code":655,"indent":0,"parameters":["// Instead, we need to use a different approach with common events and game switches."]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Check if the quiz has already been completed"]},{"code":655,"indent":0,"parameters":["if ($gameVariables.value(quizCompletedVarId) === 1) {"]},{"code":655,"indent":0,"parameters":["    // Quiz already completed, show completion message only"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["} else {"]},{"code":655,"indent":0,"parameters":["    // First we'll show the intro message"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(introText.replace(\"%PLAYER_NAME%\", $gameParty.leader().name()));"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Use a common event to chain messages"]},{"code":655,"indent":0,"parameters":["    // In RPG Maker, we have to use the \"Show Text\" command multiple times in sequence"]},{"code":655,"indent":0,"parameters":["    // from the event editor, not from script."]},{"code":655,"indent":0,"parameters":["    // But for script purposes, we can use a workaround with conditional branches and message waiting"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    var messageStep = 1;  // Use a step counter to track progress"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Set up an interval to check when the message window is closed"]},{"code":655,"indent":0,"parameters":["    var waitIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["        if (!$gameMessage.isBusy()) {  // Check if message window is not busy"]},{"code":655,"indent":0,"parameters":["            if (messageStep === 1) {"]},{"code":655,"indent":0,"parameters":["                // Show request message"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(requestText);"]},{"code":655,"indent":0,"parameters":["                messageStep = 2;"]},{"code":655,"indent":0,"parameters":["            } else if (messageStep === 2) {"]},{"code":655,"indent":0,"parameters":["                // Show question and choices"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(questionText);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(choices, 0, 0);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up choice callback"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(function(choiceIndex) {"]},{"code":655,"indent":0,"parameters":["                    if (choiceIndex === correctChoiceIndex) {"]},{"code":655,"indent":0,"parameters":["                        // Correct answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 3;  // Move to next step"]},{"code":655,"indent":0,"parameters":["                    } else {"]},{"code":655,"indent":0,"parameters":["                        // Wrong answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 6;  // Skip to wrong answer message"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                });"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Clear this interval as we'll set up a new one for the next steps"]},{"code":655,"indent":0,"parameters":["                clearInterval(waitIntervalId);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up a new interval for post-choice messages"]},{"code":655,"indent":0,"parameters":["                var postChoiceIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["                    if (!$gameMessage.isBusy()) {"]},{"code":655,"indent":0,"parameters":["                        if (messageStep === 3) {"]},{"code":655,"indent":0,"parameters":["                            // Show correct answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(correctResponseText);"]},{"code":655,"indent":0,"parameters":["                            messageStep = 4;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 4) {"]},{"code":655,"indent":0,"parameters":["                            // Show XP reward message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(rewardText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // Grant XP and set completion flag"]},{"code":655,"indent":0,"parameters":["                            var actor = $gameParty.leader();"]},{"code":655,"indent":0,"parameters":["                            actor.gainExp(rewardXP);"]},{"code":655,"indent":0,"parameters":["                            $gameVariables.setValue(quizCompletedVarId, 1);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            messageStep = 5;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 5) {"]},{"code":655,"indent":0,"parameters":["                            // Show completion message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 6) {"]},{"code":655,"indent":0,"parameters":["                            // Show wrong answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(wrongResponseText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        }"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                }, 100);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }, 100);"]},{"code":655,"indent":0,"parameters":["}"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":3,"y":5},
{"id":84,"name":"ms luongo","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"People4","direction":2,"pattern":1,"characterIndex":1},"list":[{"code":355,"indent":0,"parameters":["// Customizable variables"]},{"code":655,"indent":0,"parameters":["var npcName = \"Ms. luongo\";"]},{"code":655,"indent":0,"parameters":["var npcFaceSet = \"People4\";"]},{"code":655,"indent":0,"parameters":["var npcFaceIndex = 1;"]},{"code":655,"indent":0,"parameters":["var introText = \"%PLAYER_NAME%! Grammar monsters are mixing\\nup all our sentence structures!\";"]},{"code":655,"indent":0,"parameters":["var requestText = \"Answer this grammar question to\\nhelp restore proper language!\";"]},{"code":655,"indent":0,"parameters":["var questionText = \"Which sentence uses the correct\\nform of 'their'?\";"]},{"code":655,"indent":0,"parameters":["var choices = [\"The students left they're books.\", \"The students left their books.\", \"The students left there books.\", \"The students left they books.\"];"]},{"code":655,"indent":0,"parameters":["var correctChoiceIndex = 1; // Their"]},{"code":655,"indent":0,"parameters":["var correctResponseText = \"Correct! 'Their' shows possession.\\n'Their books' is correct!\";"]},{"code":655,"indent":0,"parameters":["var wrongResponseText = \"That's not the right usage. Come back\\nwhen you're ready to try again.\";"]},{"code":655,"indent":0,"parameters":["var rewardXP = 90;"]},{"code":655,"indent":0,"parameters":["var rewardText = \"You received \" + rewardXP + \" XP!\";"]},{"code":655,"indent":0,"parameters":["var completionText = \"Great job! Now help me gather the\\nwriting club from the computer lab!\";"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Track if the player has already completed this quiz"]},{"code":655,"indent":0,"parameters":["var quizCompletedVarId = 25;"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Function to create a sequential message chain"]},{"code":655,"indent":0,"parameters":["function createMessageChain(messages) {"]},{"code":655,"indent":0,"parameters":["    var currentMessageIndex = 0;"]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Show the first message"]},{"code":655,"indent":0,"parameters":["    showNextMessage();"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    function showNextMessage() {"]},{"code":655,"indent":0,"parameters":["        if (currentMessageIndex < messages.length) {"]},{"code":655,"indent":0,"parameters":["            var message = messages[currentMessageIndex];"]},{"code":655,"indent":0,"parameters":["            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setSpeakerName(message.speaker);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setFaceImage(message.faceSet, message.faceIndex);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.add(message.text);"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // If this is the last message and it has choices, add them"]},{"code":655,"indent":0,"parameters":["            if (message.choices && currentMessageIndex === messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(message.choices.options, 0, 0);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(message.choices.callback);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // When current message is done, setup listener for next message"]},{"code":655,"indent":0,"parameters":["            if (currentMessageIndex < messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                var nextMessageListener = function() {"]},{"code":655,"indent":0,"parameters":["                    // Remove the listener to prevent multiple calls"]},{"code":655,"indent":0,"parameters":["                    $gameMessage.removeEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["                    currentMessageIndex++;"]},{"code":655,"indent":0,"parameters":["                    setTimeout(showNextMessage, 10);"]},{"code":655,"indent":0,"parameters":["                };"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                $gameMessage.addEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Unfortunately, RPG Maker MZ doesn't have the addEventListener method as described above."]},{"code":655,"indent":0,"parameters":["// Instead, we need to use a different approach with common events and game switches."]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Check if the quiz has already been completed"]},{"code":655,"indent":0,"parameters":["if ($gameVariables.value(quizCompletedVarId) === 1) {"]},{"code":655,"indent":0,"parameters":["    // Quiz already completed, show completion message only"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["} else {"]},{"code":655,"indent":0,"parameters":["    // First we'll show the intro message"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(introText.replace(\"%PLAYER_NAME%\", $gameParty.leader().name()));"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Use a common event to chain messages"]},{"code":655,"indent":0,"parameters":["    // In RPG Maker, we have to use the \"Show Text\" command multiple times in sequence"]},{"code":655,"indent":0,"parameters":["    // from the event editor, not from script."]},{"code":655,"indent":0,"parameters":["    // But for script purposes, we can use a workaround with conditional branches and message waiting"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    var messageStep = 1;  // Use a step counter to track progress"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Set up an interval to check when the message window is closed"]},{"code":655,"indent":0,"parameters":["    var waitIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["        if (!$gameMessage.isBusy()) {  // Check if message window is not busy"]},{"code":655,"indent":0,"parameters":["            if (messageStep === 1) {"]},{"code":655,"indent":0,"parameters":["                // Show request message"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(requestText);"]},{"code":655,"indent":0,"parameters":["                messageStep = 2;"]},{"code":655,"indent":0,"parameters":["            } else if (messageStep === 2) {"]},{"code":655,"indent":0,"parameters":["                // Show question and choices"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(questionText);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(choices, 0, 0);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up choice callback"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(function(choiceIndex) {"]},{"code":655,"indent":0,"parameters":["                    if (choiceIndex === correctChoiceIndex) {"]},{"code":655,"indent":0,"parameters":["                        // Correct answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 3;  // Move to next step"]},{"code":655,"indent":0,"parameters":["                    } else {"]},{"code":655,"indent":0,"parameters":["                        // Wrong answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 6;  // Skip to wrong answer message"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                });"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Clear this interval as we'll set up a new one for the next steps"]},{"code":655,"indent":0,"parameters":["                clearInterval(waitIntervalId);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up a new interval for post-choice messages"]},{"code":655,"indent":0,"parameters":["                var postChoiceIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["                    if (!$gameMessage.isBusy()) {"]},{"code":655,"indent":0,"parameters":["                        if (messageStep === 3) {"]},{"code":655,"indent":0,"parameters":["                            // Show correct answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(correctResponseText);"]},{"code":655,"indent":0,"parameters":["                            messageStep = 4;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 4) {"]},{"code":655,"indent":0,"parameters":["                            // Show XP reward message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(rewardText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // Grant XP and set completion flag"]},{"code":655,"indent":0,"parameters":["                            var actor = $gameParty.leader();"]},{"code":655,"indent":0,"parameters":["                            actor.gainExp(rewardXP);"]},{"code":655,"indent":0,"parameters":["                            $gameVariables.setValue(quizCompletedVarId, 1);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            messageStep = 5;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 5) {"]},{"code":655,"indent":0,"parameters":["                            // Show completion message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 6) {"]},{"code":655,"indent":0,"parameters":["                            // Show wrong answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(wrongResponseText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        }"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                }, 100);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }, 100);"]},{"code":655,"indent":0,"parameters":["}"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":16,"y":3},
{"id":85,"name":"ms. ngo","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Actor3","direction":2,"pattern":1,"characterIndex":3},"list":[{"code":355,"indent":0,"parameters":["// Customizable variables"]},{"code":655,"indent":0,"parameters":["// Customizable variables"]},{"code":655,"indent":0,"parameters":["var npcName = \"ms    ngo\";"]},{"code":655,"indent":0,"parameters":["var npcFaceSet = \"Actor3\";"]},{"code":655,"indent":0,"parameters":["var npcFaceIndex = 3;"]},{"code":655,"indent":0,"parameters":["var introText = \"%PLAYER_NAME%, our animal habitat maps have\\nbeen mixed up by mischievous forest monsters!\";"]},{"code":655,"indent":0,"parameters":["var requestText = \"Answer this science question to help us\\nput our animal information back in order!\";"]},{"code":655,"indent":0,"parameters":["var questionText = \"Which animal lives in the desert?\";"]},{"code":655,"indent":0,"parameters":["var choices = [\"Penguin\", \"Camel\", \"Dolphin\", \"Polar bear\"];"]},{"code":655,"indent":0,"parameters":["var correctChoiceIndex = 1; // Camel"]},{"code":655,"indent":0,"parameters":["var correctResponseText = \"That's correct! Camels have adaptations\\nlike humps to store fat and wide feet\\nfor walking on sand!\";"]},{"code":655,"indent":0,"parameters":["var wrongResponseText = \"That's not right. This animal lives in\\na different habitat. Try again!\";"]},{"code":655,"indent":0,"parameters":["var rewardXP = 80;"]},{"code":655,"indent":0,"parameters":["var rewardText = \"You earned \" + rewardXP + \" XP!\";"]},{"code":655,"indent":0,"parameters":["var completionText = \"Wonderful job! Now help me organize\\nthe rainforest creatures in our science lab!\";"]},{"code":655,"indent":0,"parameters":["// Track if the player has already completed this quiz"]},{"code":655,"indent":0,"parameters":["var quizCompletedVarId = 25;"]},{"code":655,"indent":0,"parameters":["// Function to create a sequential message chain"]},{"code":655,"indent":0,"parameters":["function createMessageChain(messages) {"]},{"code":655,"indent":0,"parameters":["    var currentMessageIndex = 0;"]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Show the first message"]},{"code":655,"indent":0,"parameters":["    showNextMessage();"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    function showNextMessage() {"]},{"code":655,"indent":0,"parameters":["        if (currentMessageIndex < messages.length) {"]},{"code":655,"indent":0,"parameters":["            var message = messages[currentMessageIndex];"]},{"code":655,"indent":0,"parameters":["            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setSpeakerName(message.speaker);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setFaceImage(message.faceSet, message.faceIndex);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.add(message.text);"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // If this is the last message and it has choices, add them"]},{"code":655,"indent":0,"parameters":["            if (message.choices && currentMessageIndex === messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(message.choices.options, 0, 0);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(message.choices.callback);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // When current message is done, setup listener for next message"]},{"code":655,"indent":0,"parameters":["            if (currentMessageIndex < messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                var nextMessageListener = function() {"]},{"code":655,"indent":0,"parameters":["                    // Remove the listener to prevent multiple calls"]},{"code":655,"indent":0,"parameters":["                    $gameMessage.removeEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["                    currentMessageIndex++;"]},{"code":655,"indent":0,"parameters":["                    setTimeout(showNextMessage, 10);"]},{"code":655,"indent":0,"parameters":["                };"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                $gameMessage.addEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Unfortunately, RPG Maker MZ doesn't have the addEventListener method as described above."]},{"code":655,"indent":0,"parameters":["// Instead, we need to use a different approach with common events and game switches."]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Check if the quiz has already been completed"]},{"code":655,"indent":0,"parameters":["if ($gameVariables.value(quizCompletedVarId) === 1) {"]},{"code":655,"indent":0,"parameters":["    // Quiz already completed, show completion message only"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["} else {"]},{"code":655,"indent":0,"parameters":["    // First we'll show the intro message"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(introText.replace(\"%PLAYER_NAME%\", $gameParty.leader().name()));"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Use a common event to chain messages"]},{"code":655,"indent":0,"parameters":["    // In RPG Maker, we have to use the \"Show Text\" command multiple times in sequence"]},{"code":655,"indent":0,"parameters":["    // from the event editor, not from script."]},{"code":655,"indent":0,"parameters":["    // But for script purposes, we can use a workaround with conditional branches and message waiting"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    var messageStep = 1;  // Use a step counter to track progress"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Set up an interval to check when the message window is closed"]},{"code":655,"indent":0,"parameters":["    var waitIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["        if (!$gameMessage.isBusy()) {  // Check if message window is not busy"]},{"code":655,"indent":0,"parameters":["            if (messageStep === 1) {"]},{"code":655,"indent":0,"parameters":["                // Show request message"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(requestText);"]},{"code":655,"indent":0,"parameters":["                messageStep = 2;"]},{"code":655,"indent":0,"parameters":["            } else if (messageStep === 2) {"]},{"code":655,"indent":0,"parameters":["                // Show question and choices"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(questionText);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(choices, 0, 0);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up choice callback"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(function(choiceIndex) {"]},{"code":655,"indent":0,"parameters":["                    if (choiceIndex === correctChoiceIndex) {"]},{"code":655,"indent":0,"parameters":["                        // Correct answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 3;  // Move to next step"]},{"code":655,"indent":0,"parameters":["                    } else {"]},{"code":655,"indent":0,"parameters":["                        // Wrong answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 6;  // Skip to wrong answer message"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                });"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Clear this interval as we'll set up a new one for the next steps"]},{"code":655,"indent":0,"parameters":["                clearInterval(waitIntervalId);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up a new interval for post-choice messages"]},{"code":655,"indent":0,"parameters":["                var postChoiceIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["                    if (!$gameMessage.isBusy()) {"]},{"code":655,"indent":0,"parameters":["                        if (messageStep === 3) {"]},{"code":655,"indent":0,"parameters":["                            // Show correct answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(correctResponseText);"]},{"code":655,"indent":0,"parameters":["                            messageStep = 4;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 4) {"]},{"code":655,"indent":0,"parameters":["                            // Show XP reward message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(rewardText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // Grant XP and set completion flag"]},{"code":655,"indent":0,"parameters":["                            var actor = $gameParty.leader();"]},{"code":655,"indent":0,"parameters":["                            actor.gainExp(rewardXP);"]},{"code":655,"indent":0,"parameters":["                            $gameVariables.setValue(quizCompletedVarId, 1);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            messageStep = 5;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 5) {"]},{"code":655,"indent":0,"parameters":["                            // Show completion message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 6) {"]},{"code":655,"indent":0,"parameters":["                            // Show wrong answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(wrongResponseText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        }"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                }, 100);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }, 100);"]},{"code":655,"indent":0,"parameters":["}"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":1,"y":9},
{"id":86,"name":"ms. algieri","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Actor1","direction":2,"pattern":1,"characterIndex":7},"list":[{"code":355,"indent":0,"parameters":["// Customizable variables"]},{"code":655,"indent":0,"parameters":["var npcName = \"Ms. algieri\";"]},{"code":655,"indent":0,"parameters":["var npcFaceSet = \"Actor1\";"]},{"code":655,"indent":0,"parameters":["var npcFaceIndex = 7;"]},{"code":655,"indent":0,"parameters":["var introText = \"%PLAYER_NAME%! History monsters are erasing\\nour California history timeline!\";"]},{"code":655,"indent":0,"parameters":["var requestText = \"Answer this history question to help\\npreserve our state's rich past!\";"]},{"code":655,"indent":0,"parameters":["var questionText = \"What is the state capital of\\nCalifornia?\";"]},{"code":655,"indent":0,"parameters":["var choices = [\"Los Angeles\", \"Sacramento\", \"San Francisco\", \"San Diego\"];"]},{"code":655,"indent":0,"parameters":["var correctChoiceIndex = 1; // Sacramento"]},{"code":655,"indent":0,"parameters":["var correctResponseText = \"That's right! Sacramento is the\\ncapital of California!\";"]},{"code":655,"indent":0,"parameters":["var wrongResponseText = \"That's not correct. Come back when\\nyou're ready to try again.\";"]},{"code":655,"indent":0,"parameters":["var rewardXP = 100;"]},{"code":655,"indent":0,"parameters":["var rewardText = \"You earned \" + rewardXP + \" XP!\";"]},{"code":655,"indent":0,"parameters":["var completionText = \"Excellent! Now help me rescue the\\nCalifornia history projects from Room 11!\";"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Track if the player has already completed this quiz"]},{"code":655,"indent":0,"parameters":["var quizCompletedVarId = 26;"]},{"code":655,"indent":0,"parameters":["// Function to create a sequential message chain"]},{"code":655,"indent":0,"parameters":["function createMessageChain(messages) {"]},{"code":655,"indent":0,"parameters":["    var currentMessageIndex = 0;"]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Show the first message"]},{"code":655,"indent":0,"parameters":["    showNextMessage();"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    function showNextMessage() {"]},{"code":655,"indent":0,"parameters":["        if (currentMessageIndex < messages.length) {"]},{"code":655,"indent":0,"parameters":["            var message = messages[currentMessageIndex];"]},{"code":655,"indent":0,"parameters":["            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setSpeakerName(message.speaker);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setFaceImage(message.faceSet, message.faceIndex);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.add(message.text);"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // If this is the last message and it has choices, add them"]},{"code":655,"indent":0,"parameters":["            if (message.choices && currentMessageIndex === messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(message.choices.options, 0, 0);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(message.choices.callback);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // When current message is done, setup listener for next message"]},{"code":655,"indent":0,"parameters":["            if (currentMessageIndex < messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                var nextMessageListener = function() {"]},{"code":655,"indent":0,"parameters":["                    // Remove the listener to prevent multiple calls"]},{"code":655,"indent":0,"parameters":["                    $gameMessage.removeEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["                    currentMessageIndex++;"]},{"code":655,"indent":0,"parameters":["                    setTimeout(showNextMessage, 10);"]},{"code":655,"indent":0,"parameters":["                };"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                $gameMessage.addEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Unfortunately, RPG Maker MZ doesn't have the addEventListener method as described above."]},{"code":655,"indent":0,"parameters":["// Instead, we need to use a different approach with common events and game switches."]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Check if the quiz has already been completed"]},{"code":655,"indent":0,"parameters":["if ($gameVariables.value(quizCompletedVarId) === 1) {"]},{"code":655,"indent":0,"parameters":["    // Quiz already completed, show completion message only"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["} else {"]},{"code":655,"indent":0,"parameters":["    // First we'll show the intro message"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(introText.replace(\"%PLAYER_NAME%\", $gameParty.leader().name()));"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Use a common event to chain messages"]},{"code":655,"indent":0,"parameters":["    // In RPG Maker, we have to use the \"Show Text\" command multiple times in sequence"]},{"code":655,"indent":0,"parameters":["    // from the event editor, not from script."]},{"code":655,"indent":0,"parameters":["    // But for script purposes, we can use a workaround with conditional branches and message waiting"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    var messageStep = 1;  // Use a step counter to track progress"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Set up an interval to check when the message window is closed"]},{"code":655,"indent":0,"parameters":["    var waitIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["        if (!$gameMessage.isBusy()) {  // Check if message window is not busy"]},{"code":655,"indent":0,"parameters":["            if (messageStep === 1) {"]},{"code":655,"indent":0,"parameters":["                // Show request message"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(requestText);"]},{"code":655,"indent":0,"parameters":["                messageStep = 2;"]},{"code":655,"indent":0,"parameters":["            } else if (messageStep === 2) {"]},{"code":655,"indent":0,"parameters":["                // Show question and choices"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(questionText);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(choices, 0, 0);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up choice callback"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(function(choiceIndex) {"]},{"code":655,"indent":0,"parameters":["                    if (choiceIndex === correctChoiceIndex) {"]},{"code":655,"indent":0,"parameters":["                        // Correct answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 3;  // Move to next step"]},{"code":655,"indent":0,"parameters":["                    } else {"]},{"code":655,"indent":0,"parameters":["                        // Wrong answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 6;  // Skip to wrong answer message"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                });"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Clear this interval as we'll set up a new one for the next steps"]},{"code":655,"indent":0,"parameters":["                clearInterval(waitIntervalId);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up a new interval for post-choice messages"]},{"code":655,"indent":0,"parameters":["                var postChoiceIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["                    if (!$gameMessage.isBusy()) {"]},{"code":655,"indent":0,"parameters":["                        if (messageStep === 3) {"]},{"code":655,"indent":0,"parameters":["                            // Show correct answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(correctResponseText);"]},{"code":655,"indent":0,"parameters":["                            messageStep = 4;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 4) {"]},{"code":655,"indent":0,"parameters":["                            // Show XP reward message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(rewardText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // Grant XP and set completion flag"]},{"code":655,"indent":0,"parameters":["                            var actor = $gameParty.leader();"]},{"code":655,"indent":0,"parameters":["                            actor.gainExp(rewardXP);"]},{"code":655,"indent":0,"parameters":["                            $gameVariables.setValue(quizCompletedVarId, 1);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            messageStep = 5;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 5) {"]},{"code":655,"indent":0,"parameters":["                            // Show completion message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 6) {"]},{"code":655,"indent":0,"parameters":["                            // Show wrong answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(wrongResponseText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        }"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                }, 100);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }, 100);"]},{"code":655,"indent":0,"parameters":["}"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":9,"y":14},
{"id":87,"name":"ms lopez","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Actor3","direction":2,"pattern":1,"characterIndex":5},"list":[{"code":355,"indent":0,"parameters":["var npcName = \"ms lopez\";"]},{"code":655,"indent":0,"parameters":["var npcFaceSet = \"Actor3\";"]},{"code":655,"indent":0,"parameters":["var npcFaceIndex = 5;"]},{"code":655,"indent":0,"parameters":["var introText = \"%PLAYER_NAME%! Life cycle monsters are\\ndisrupting our science experiments!\";"]},{"code":655,"indent":0,"parameters":["var requestText = \"Answer this science question to help\\nrestore order to our lab!\";"]},{"code":655,"indent":0,"parameters":["var questionText = \"What is the process called when a\\ncaterpillar changes into a butterfly?\";"]},{"code":655,"indent":0,"parameters":["var choices = [\"Hibernation\", \"Metamorphosis\", \"Photosynthesis\", \"Migration\"];"]},{"code":655,"indent":0,"parameters":["var correctChoiceIndex = 1; // Metamorphosis"]},{"code":655,"indent":0,"parameters":["var correctResponseText = \"Exactly right! Metamorphosis is the\\nprocess of transformation!\";"]},{"code":655,"indent":0,"parameters":["var wrongResponseText = \"That's not correct. Please come back\\nwhen you're ready to try again.\";"]},{"code":655,"indent":0,"parameters":["var rewardXP = 90;"]},{"code":655,"indent":0,"parameters":["var rewardText = \"You gained \" + rewardXP + \" XP!\";"]},{"code":655,"indent":0,"parameters":["var completionText = \"Well done! Now help me save our students!\";"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Track if the player has already completed this quiz"]},{"code":655,"indent":0,"parameters":["var quizCompletedVarId = 24;"]},{"code":655,"indent":0,"parameters":["// Function to create a sequential message chain"]},{"code":655,"indent":0,"parameters":["function createMessageChain(messages) {"]},{"code":655,"indent":0,"parameters":["    var currentMessageIndex = 0;"]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Show the first message"]},{"code":655,"indent":0,"parameters":["    showNextMessage();"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    function showNextMessage() {"]},{"code":655,"indent":0,"parameters":["        if (currentMessageIndex < messages.length) {"]},{"code":655,"indent":0,"parameters":["            var message = messages[currentMessageIndex];"]},{"code":655,"indent":0,"parameters":["            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setSpeakerName(message.speaker);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setFaceImage(message.faceSet, message.faceIndex);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.add(message.text);"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // If this is the last message and it has choices, add them"]},{"code":655,"indent":0,"parameters":["            if (message.choices && currentMessageIndex === messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(message.choices.options, 0, 0);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(message.choices.callback);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // When current message is done, setup listener for next message"]},{"code":655,"indent":0,"parameters":["            if (currentMessageIndex < messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                var nextMessageListener = function() {"]},{"code":655,"indent":0,"parameters":["                    // Remove the listener to prevent multiple calls"]},{"code":655,"indent":0,"parameters":["                    $gameMessage.removeEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["                    currentMessageIndex++;"]},{"code":655,"indent":0,"parameters":["                    setTimeout(showNextMessage, 10);"]},{"code":655,"indent":0,"parameters":["                };"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                $gameMessage.addEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Unfortunately, RPG Maker MZ doesn't have the addEventListener method as described above."]},{"code":655,"indent":0,"parameters":["// Instead, we need to use a different approach with common events and game switches."]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Check if the quiz has already been completed"]},{"code":655,"indent":0,"parameters":["if ($gameVariables.value(quizCompletedVarId) === 1) {"]},{"code":655,"indent":0,"parameters":["    // Quiz already completed, show completion message only"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["} else {"]},{"code":655,"indent":0,"parameters":["    // First we'll show the intro message"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(introText.replace(\"%PLAYER_NAME%\", $gameParty.leader().name()));"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Use a common event to chain messages"]},{"code":655,"indent":0,"parameters":["    // In RPG Maker, we have to use the \"Show Text\" command multiple times in sequence"]},{"code":655,"indent":0,"parameters":["    // from the event editor, not from script."]},{"code":655,"indent":0,"parameters":["    // But for script purposes, we can use a workaround with conditional branches and message waiting"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    var messageStep = 1;  // Use a step counter to track progress"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Set up an interval to check when the message window is closed"]},{"code":655,"indent":0,"parameters":["    var waitIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["        if (!$gameMessage.isBusy()) {  // Check if message window is not busy"]},{"code":655,"indent":0,"parameters":["            if (messageStep === 1) {"]},{"code":655,"indent":0,"parameters":["                // Show request message"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(requestText);"]},{"code":655,"indent":0,"parameters":["                messageStep = 2;"]},{"code":655,"indent":0,"parameters":["            } else if (messageStep === 2) {"]},{"code":655,"indent":0,"parameters":["                // Show question and choices"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(questionText);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(choices, 0, 0);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up choice callback"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(function(choiceIndex) {"]},{"code":655,"indent":0,"parameters":["                    if (choiceIndex === correctChoiceIndex) {"]},{"code":655,"indent":0,"parameters":["                        // Correct answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 3;  // Move to next step"]},{"code":655,"indent":0,"parameters":["                    } else {"]},{"code":655,"indent":0,"parameters":["                        // Wrong answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 6;  // Skip to wrong answer message"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                });"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Clear this interval as we'll set up a new one for the next steps"]},{"code":655,"indent":0,"parameters":["                clearInterval(waitIntervalId);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up a new interval for post-choice messages"]},{"code":655,"indent":0,"parameters":["                var postChoiceIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["                    if (!$gameMessage.isBusy()) {"]},{"code":655,"indent":0,"parameters":["                        if (messageStep === 3) {"]},{"code":655,"indent":0,"parameters":["                            // Show correct answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(correctResponseText);"]},{"code":655,"indent":0,"parameters":["                            messageStep = 4;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 4) {"]},{"code":655,"indent":0,"parameters":["                            // Show XP reward message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(rewardText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // Grant XP and set completion flag"]},{"code":655,"indent":0,"parameters":["                            var actor = $gameParty.leader();"]},{"code":655,"indent":0,"parameters":["                            actor.gainExp(rewardXP);"]},{"code":655,"indent":0,"parameters":["                            $gameVariables.setValue(quizCompletedVarId, 1);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            messageStep = 5;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 5) {"]},{"code":655,"indent":0,"parameters":["                            // Show completion message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 6) {"]},{"code":655,"indent":0,"parameters":["                            // Show wrong answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(wrongResponseText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        }"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                }, 100);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }, 100);"]},{"code":655,"indent":0,"parameters":["}"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":6,"y":15},
{"id":88,"name":"ms introcaso","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Actor1","direction":2,"pattern":1,"characterIndex":3},"list":[{"code":355,"indent":0,"parameters":["// Customizable variables"]},{"code":655,"indent":0,"parameters":["var npcName = \"ms introcaso\";"]},{"code":655,"indent":0,"parameters":["var npcFaceSet = \"Actor1\";"]},{"code":655,"indent":0,"parameters":["var npcFaceIndex = 3;"]},{"code":655,"indent":0,"parameters":["var introText = \"%PLAYER_NAME%, the storybook characters are\\nall mixed up in the wrong books!\";"]},{"code":655,"indent":0,"parameters":["var requestText = \"Answer this vocabulary question to help\\nput our library back in order!\";"]},{"code":655,"indent":0,"parameters":["var questionText = \"Which word is an antonym for 'happy'?\";"]},{"code":655,"indent":0,"parameters":["var choices = [\"Sad\", \"Glad\", \"Joyful\", \"Cheerful\"];"]},{"code":655,"indent":0,"parameters":["var correctChoiceIndex = 0; // Sad"]},{"code":655,"indent":0,"parameters":["var correctResponseText = \"Perfect! 'Sad' is indeed the opposite\\nof 'happy'. You know your antonyms!\";"]},{"code":655,"indent":0,"parameters":["var wrongResponseText = \"That's not the opposite of 'happy'.\\nThink about what antonym means and try again!\";"]},{"code":655,"indent":0,"parameters":["var rewardXP = 85;"]},{"code":655,"indent":0,"parameters":["var rewardText = \"You earned \" + rewardXP + \" XP!\";"]},{"code":655,"indent":0,"parameters":["var completionText = \"Fantastic work! Now help me find the\\nmissing synonyms in our word garden!\";"]},{"code":655,"indent":0,"parameters":["// Track if the player has already completed this quiz"]},{"code":655,"indent":0,"parameters":["var quizCompletedVarId = 82;"]},{"code":655,"indent":0,"parameters":["// Function to create a sequential message chain"]},{"code":655,"indent":0,"parameters":["function createMessageChain(messages) {"]},{"code":655,"indent":0,"parameters":["    var currentMessageIndex = 0;"]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Show the first message"]},{"code":655,"indent":0,"parameters":["    showNextMessage();"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    function showNextMessage() {"]},{"code":655,"indent":0,"parameters":["        if (currentMessageIndex < messages.length) {"]},{"code":655,"indent":0,"parameters":["            var message = messages[currentMessageIndex];"]},{"code":655,"indent":0,"parameters":["            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setSpeakerName(message.speaker);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setFaceImage(message.faceSet, message.faceIndex);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.add(message.text);"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // If this is the last message and it has choices, add them"]},{"code":655,"indent":0,"parameters":["            if (message.choices && currentMessageIndex === messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(message.choices.options, 0, 0);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(message.choices.callback);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // When current message is done, setup listener for next message"]},{"code":655,"indent":0,"parameters":["            if (currentMessageIndex < messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                var nextMessageListener = function() {"]},{"code":655,"indent":0,"parameters":["                    // Remove the listener to prevent multiple calls"]},{"code":655,"indent":0,"parameters":["                    $gameMessage.removeEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["                    currentMessageIndex++;"]},{"code":655,"indent":0,"parameters":["                    setTimeout(showNextMessage, 10);"]},{"code":655,"indent":0,"parameters":["                };"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                $gameMessage.addEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Unfortunately, RPG Maker MZ doesn't have the addEventListener method as described above."]},{"code":655,"indent":0,"parameters":["// Instead, we need to use a different approach with common events and game switches."]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Check if the quiz has already been completed"]},{"code":655,"indent":0,"parameters":["if ($gameVariables.value(quizCompletedVarId) === 1) {"]},{"code":655,"indent":0,"parameters":["    // Quiz already completed, show completion message only"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["} else {"]},{"code":655,"indent":0,"parameters":["    // First we'll show the intro message"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(introText.replace(\"%PLAYER_NAME%\", $gameParty.leader().name()));"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Use a common event to chain messages"]},{"code":655,"indent":0,"parameters":["    // In RPG Maker, we have to use the \"Show Text\" command multiple times in sequence"]},{"code":655,"indent":0,"parameters":["    // from the event editor, not from script."]},{"code":655,"indent":0,"parameters":["    // But for script purposes, we can use a workaround with conditional branches and message waiting"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    var messageStep = 1;  // Use a step counter to track progress"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Set up an interval to check when the message window is closed"]},{"code":655,"indent":0,"parameters":["    var waitIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["        if (!$gameMessage.isBusy()) {  // Check if message window is not busy"]},{"code":655,"indent":0,"parameters":["            if (messageStep === 1) {"]},{"code":655,"indent":0,"parameters":["                // Show request message"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(requestText);"]},{"code":655,"indent":0,"parameters":["                messageStep = 2;"]},{"code":655,"indent":0,"parameters":["            } else if (messageStep === 2) {"]},{"code":655,"indent":0,"parameters":["                // Show question and choices"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(questionText);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(choices, 0, 0);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up choice callback"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(function(choiceIndex) {"]},{"code":655,"indent":0,"parameters":["                    if (choiceIndex === correctChoiceIndex) {"]},{"code":655,"indent":0,"parameters":["                        // Correct answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 3;  // Move to next step"]},{"code":655,"indent":0,"parameters":["                    } else {"]},{"code":655,"indent":0,"parameters":["                        // Wrong answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 6;  // Skip to wrong answer message"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                });"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Clear this interval as we'll set up a new one for the next steps"]},{"code":655,"indent":0,"parameters":["                clearInterval(waitIntervalId);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up a new interval for post-choice messages"]},{"code":655,"indent":0,"parameters":["                var postChoiceIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["                    if (!$gameMessage.isBusy()) {"]},{"code":655,"indent":0,"parameters":["                        if (messageStep === 3) {"]},{"code":655,"indent":0,"parameters":["                            // Show correct answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(correctResponseText);"]},{"code":655,"indent":0,"parameters":["                            messageStep = 4;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 4) {"]},{"code":655,"indent":0,"parameters":["                            // Show XP reward message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(rewardText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // Grant XP and set completion flag"]},{"code":655,"indent":0,"parameters":["                            var actor = $gameParty.leader();"]},{"code":655,"indent":0,"parameters":["                            actor.gainExp(rewardXP);"]},{"code":655,"indent":0,"parameters":["                            $gameVariables.setValue(quizCompletedVarId, 1);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            messageStep = 5;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 5) {"]},{"code":655,"indent":0,"parameters":["                            // Show completion message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 6) {"]},{"code":655,"indent":0,"parameters":["                            // Show wrong answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(wrongResponseText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        }"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                }, 100);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }, 100);"]},{"code":655,"indent":0,"parameters":["}"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":3,"y":14},
{"id":89,"name":"ms hsieh","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Nature","direction":2,"pattern":1,"characterIndex":4},"list":[{"code":355,"indent":0,"parameters":["// Customizable variables"]},{"code":655,"indent":0,"parameters":["var npcName = \"Ms. Hsieh\";"]},{"code":655,"indent":0,"parameters":["var npcFaceSet = \"Nature\";"]},{"code":655,"indent":0,"parameters":["var npcFaceIndex = 4;"]},{"code":655,"indent":0,"parameters":["var introText = \"%PLAYER_NAME%! Fraction monsters are\\ndividing everything in our classroom!\";"]},{"code":655,"indent":0,"parameters":["var requestText = \"Answer this math question to help us\\nput things back together again!\";"]},{"code":655,"indent":0,"parameters":["var questionText = \"Which fraction is equivalent to\\n1/2?\";"]},{"code":655,"indent":0,"parameters":["var choices = [\"2/6\", \"2/4\", \"3/6\", \"1/4\"];"]},{"code":655,"indent":0,"parameters":["var correctChoiceIndex = 2; // 3/6"]},{"code":655,"indent":0,"parameters":["var correctResponseText = \"That's correct! 3/6 = 1/2 when\\nsimplified!\";"]},{"code":655,"indent":0,"parameters":["var wrongResponseText = \"That's not equivalent to 1/2. Please\\ncome back when you want to try again.\";"]},{"code":655,"indent":0,"parameters":["var rewardXP = 100;"]},{"code":655,"indent":0,"parameters":["var rewardText = \"You gained \" + rewardXP + \" XP!\";"]},{"code":655,"indent":0,"parameters":["var completionText = \"Great work! Now help me gather the\\nmath team from the courtyard!\";"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Track if the player has already completed this quiz"]},{"code":655,"indent":0,"parameters":["var quizCompletedVarId = 27;"]},{"code":655,"indent":0,"parameters":["// Function to create a sequential message chain"]},{"code":655,"indent":0,"parameters":["function createMessageChain(messages) {"]},{"code":655,"indent":0,"parameters":["    var currentMessageIndex = 0;"]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Show the first message"]},{"code":655,"indent":0,"parameters":["    showNextMessage();"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    function showNextMessage() {"]},{"code":655,"indent":0,"parameters":["        if (currentMessageIndex < messages.length) {"]},{"code":655,"indent":0,"parameters":["            var message = messages[currentMessageIndex];"]},{"code":655,"indent":0,"parameters":["            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setSpeakerName(message.speaker);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setFaceImage(message.faceSet, message.faceIndex);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.add(message.text);"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // If this is the last message and it has choices, add them"]},{"code":655,"indent":0,"parameters":["            if (message.choices && currentMessageIndex === messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(message.choices.options, 0, 0);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(message.choices.callback);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // When current message is done, setup listener for next message"]},{"code":655,"indent":0,"parameters":["            if (currentMessageIndex < messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                var nextMessageListener = function() {"]},{"code":655,"indent":0,"parameters":["                    // Remove the listener to prevent multiple calls"]},{"code":655,"indent":0,"parameters":["                    $gameMessage.removeEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["                    currentMessageIndex++;"]},{"code":655,"indent":0,"parameters":["                    setTimeout(showNextMessage, 10);"]},{"code":655,"indent":0,"parameters":["                };"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                $gameMessage.addEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Unfortunately, RPG Maker MZ doesn't have the addEventListener method as described above."]},{"code":655,"indent":0,"parameters":["// Instead, we need to use a different approach with common events and game switches."]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Check if the quiz has already been completed"]},{"code":655,"indent":0,"parameters":["if ($gameVariables.value(quizCompletedVarId) === 1) {"]},{"code":655,"indent":0,"parameters":["    // Quiz already completed, show completion message only"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["} else {"]},{"code":655,"indent":0,"parameters":["    // First we'll show the intro message"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(introText.replace(\"%PLAYER_NAME%\", $gameParty.leader().name()));"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Use a common event to chain messages"]},{"code":655,"indent":0,"parameters":["    // In RPG Maker, we have to use the \"Show Text\" command multiple times in sequence"]},{"code":655,"indent":0,"parameters":["    // from the event editor, not from script."]},{"code":655,"indent":0,"parameters":["    // But for script purposes, we can use a workaround with conditional branches and message waiting"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    var messageStep = 1;  // Use a step counter to track progress"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Set up an interval to check when the message window is closed"]},{"code":655,"indent":0,"parameters":["    var waitIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["        if (!$gameMessage.isBusy()) {  // Check if message window is not busy"]},{"code":655,"indent":0,"parameters":["            if (messageStep === 1) {"]},{"code":655,"indent":0,"parameters":["                // Show request message"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(requestText);"]},{"code":655,"indent":0,"parameters":["                messageStep = 2;"]},{"code":655,"indent":0,"parameters":["            } else if (messageStep === 2) {"]},{"code":655,"indent":0,"parameters":["                // Show question and choices"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(questionText);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(choices, 0, 0);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up choice callback"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(function(choiceIndex) {"]},{"code":655,"indent":0,"parameters":["                    if (choiceIndex === correctChoiceIndex) {"]},{"code":655,"indent":0,"parameters":["                        // Correct answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 3;  // Move to next step"]},{"code":655,"indent":0,"parameters":["                    } else {"]},{"code":655,"indent":0,"parameters":["                        // Wrong answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 6;  // Skip to wrong answer message"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                });"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Clear this interval as we'll set up a new one for the next steps"]},{"code":655,"indent":0,"parameters":["                clearInterval(waitIntervalId);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up a new interval for post-choice messages"]},{"code":655,"indent":0,"parameters":["                var postChoiceIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["                    if (!$gameMessage.isBusy()) {"]},{"code":655,"indent":0,"parameters":["                        if (messageStep === 3) {"]},{"code":655,"indent":0,"parameters":["                            // Show correct answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(correctResponseText);"]},{"code":655,"indent":0,"parameters":["                            messageStep = 4;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 4) {"]},{"code":655,"indent":0,"parameters":["                            // Show XP reward message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(rewardText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // Grant XP and set completion flag"]},{"code":655,"indent":0,"parameters":["                            var actor = $gameParty.leader();"]},{"code":655,"indent":0,"parameters":["                            actor.gainExp(rewardXP);"]},{"code":655,"indent":0,"parameters":["                            $gameVariables.setValue(quizCompletedVarId, 1);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            messageStep = 5;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 5) {"]},{"code":655,"indent":0,"parameters":["                            // Show completion message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 6) {"]},{"code":655,"indent":0,"parameters":["                            // Show wrong answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(wrongResponseText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        }"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                }, 100);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }, 100);"]},{"code":655,"indent":0,"parameters":["}"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":1,"y":15},
{"id":90,"name":"mr mello","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"SF_Actor1","direction":2,"pattern":1,"characterIndex":2},"list":[{"code":355,"indent":0,"parameters":["// Customizable variables"]},{"code":655,"indent":0,"parameters":["var npcName = \"Mr. mello\";"]},{"code":655,"indent":0,"parameters":["var npcFaceSet = \"SF_Actor1\";"]},{"code":655,"indent":0,"parameters":["var npcFaceIndex = 2;"]},{"code":655,"indent":0,"parameters":["var introText = \"%PLAYER_NAME%! Revolution monsters are\\ntearing through our history books!\";"]},{"code":655,"indent":0,"parameters":["var requestText = \"Answer this U.S. history question to\\nhelp preserve our nation's story!\";"]},{"code":655,"indent":0,"parameters":["var questionText = \"Which document begins with 'We the\\nPeople of the United States'?\";"]},{"code":655,"indent":0,"parameters":["var choices = [\"Declaration of Independence\", \"Constitution\", \"Bill of Rights\", \"Emancipation Proclamation\"];"]},{"code":655,"indent":0,"parameters":["var correctChoiceIndex = 1; // Constitution"]},{"code":655,"indent":0,"parameters":["var correctResponseText = \"That's right! The U.S. Constitution\\nbegins with 'We the People...'!\";"]},{"code":655,"indent":0,"parameters":["var wrongResponseText = \"That's not correct. Come back when\\nyou're ready to try again.\";"]},{"code":655,"indent":0,"parameters":["var rewardXP = 110;"]},{"code":655,"indent":0,"parameters":["var rewardText = \"You earned \" + rewardXP + \" XP!\";"]},{"code":655,"indent":0,"parameters":["var completionText = \"Excellent! Now help me gather the\\nhistory club from the auditorium!\";"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Track if the player has already completed this quiz"]},{"code":655,"indent":0,"parameters":["var quizCompletedVarId = 29;"]},{"code":655,"indent":0,"parameters":["// Function to create a sequential message chain"]},{"code":655,"indent":0,"parameters":["function createMessageChain(messages) {"]},{"code":655,"indent":0,"parameters":["    var currentMessageIndex = 0;"]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Show the first message"]},{"code":655,"indent":0,"parameters":["    showNextMessage();"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    function showNextMessage() {"]},{"code":655,"indent":0,"parameters":["        if (currentMessageIndex < messages.length) {"]},{"code":655,"indent":0,"parameters":["            var message = messages[currentMessageIndex];"]},{"code":655,"indent":0,"parameters":["            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setSpeakerName(message.speaker);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setFaceImage(message.faceSet, message.faceIndex);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.add(message.text);"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // If this is the last message and it has choices, add them"]},{"code":655,"indent":0,"parameters":["            if (message.choices && currentMessageIndex === messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(message.choices.options, 0, 0);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(message.choices.callback);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // When current message is done, setup listener for next message"]},{"code":655,"indent":0,"parameters":["            if (currentMessageIndex < messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                var nextMessageListener = function() {"]},{"code":655,"indent":0,"parameters":["                    // Remove the listener to prevent multiple calls"]},{"code":655,"indent":0,"parameters":["                    $gameMessage.removeEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["                    currentMessageIndex++;"]},{"code":655,"indent":0,"parameters":["                    setTimeout(showNextMessage, 10);"]},{"code":655,"indent":0,"parameters":["                };"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                $gameMessage.addEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Unfortunately, RPG Maker MZ doesn't have the addEventListener method as described above."]},{"code":655,"indent":0,"parameters":["// Instead, we need to use a different approach with common events and game switches."]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Check if the quiz has already been completed"]},{"code":655,"indent":0,"parameters":["if ($gameVariables.value(quizCompletedVarId) === 1) {"]},{"code":655,"indent":0,"parameters":["    // Quiz already completed, show completion message only"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["} else {"]},{"code":655,"indent":0,"parameters":["    // First we'll show the intro message"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(introText.replace(\"%PLAYER_NAME%\", $gameParty.leader().name()));"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Use a common event to chain messages"]},{"code":655,"indent":0,"parameters":["    // In RPG Maker, we have to use the \"Show Text\" command multiple times in sequence"]},{"code":655,"indent":0,"parameters":["    // from the event editor, not from script."]},{"code":655,"indent":0,"parameters":["    // But for script purposes, we can use a workaround with conditional branches and message waiting"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    var messageStep = 1;  // Use a step counter to track progress"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Set up an interval to check when the message window is closed"]},{"code":655,"indent":0,"parameters":["    var waitIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["        if (!$gameMessage.isBusy()) {  // Check if message window is not busy"]},{"code":655,"indent":0,"parameters":["            if (messageStep === 1) {"]},{"code":655,"indent":0,"parameters":["                // Show request message"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(requestText);"]},{"code":655,"indent":0,"parameters":["                messageStep = 2;"]},{"code":655,"indent":0,"parameters":["            } else if (messageStep === 2) {"]},{"code":655,"indent":0,"parameters":["                // Show question and choices"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(questionText);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(choices, 0, 0);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up choice callback"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(function(choiceIndex) {"]},{"code":655,"indent":0,"parameters":["                    if (choiceIndex === correctChoiceIndex) {"]},{"code":655,"indent":0,"parameters":["                        // Correct answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 3;  // Move to next step"]},{"code":655,"indent":0,"parameters":["                    } else {"]},{"code":655,"indent":0,"parameters":["                        // Wrong answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 6;  // Skip to wrong answer message"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                });"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Clear this interval as we'll set up a new one for the next steps"]},{"code":655,"indent":0,"parameters":["                clearInterval(waitIntervalId);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up a new interval for post-choice messages"]},{"code":655,"indent":0,"parameters":["                var postChoiceIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["                    if (!$gameMessage.isBusy()) {"]},{"code":655,"indent":0,"parameters":["                        if (messageStep === 3) {"]},{"code":655,"indent":0,"parameters":["                            // Show correct answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(correctResponseText);"]},{"code":655,"indent":0,"parameters":["                            messageStep = 4;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 4) {"]},{"code":655,"indent":0,"parameters":["                            // Show XP reward message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(rewardText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // Grant XP and set completion flag"]},{"code":655,"indent":0,"parameters":["                            var actor = $gameParty.leader();"]},{"code":655,"indent":0,"parameters":["                            actor.gainExp(rewardXP);"]},{"code":655,"indent":0,"parameters":["                            $gameVariables.setValue(quizCompletedVarId, 1);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            messageStep = 5;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 5) {"]},{"code":655,"indent":0,"parameters":["                            // Show completion message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 6) {"]},{"code":655,"indent":0,"parameters":["                            // Show wrong answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(wrongResponseText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        }"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                }, 100);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }, 100);"]},{"code":655,"indent":0,"parameters":["}"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":7,"y":20},
{"id":91,"name":"ms schaefer","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"People4","direction":2,"pattern":1,"characterIndex":7},"list":[{"code":355,"indent":0,"parameters":["// Customizable variables"]},{"code":655,"indent":0,"parameters":["var npcName = \"Ms. shaefer\";"]},{"code":655,"indent":0,"parameters":["var npcFaceSet = \"People4\";"]},{"code":655,"indent":0,"parameters":["var npcFaceIndex = 7;"]},{"code":655,"indent":0,"parameters":["var introText = \"%PLAYER_NAME%! Decimal monsters are\\nfloating all over our math textbooks!\";"]},{"code":655,"indent":0,"parameters":["var requestText = \"Answer this decimal question to help\\nus restore numerical order!\";"]},{"code":655,"indent":0,"parameters":["var questionText = \"Which decimal is equal to 3/4?\";"]},{"code":655,"indent":0,"parameters":["var choices = [\"0.25\", \"0.5\", \"0.75\", \"0.34\"];"]},{"code":655,"indent":0,"parameters":["var correctChoiceIndex = 2; // 0.75"]},{"code":655,"indent":0,"parameters":["var correctResponseText = \"That's correct! 3/4 = 0.75 in\\ndecimal form!\";"]},{"code":655,"indent":0,"parameters":["var wrongResponseText = \"That's not the right answer. Come\\nback when you want to try again.\";"]},{"code":655,"indent":0,"parameters":["var rewardXP = 110;"]},{"code":655,"indent":0,"parameters":["var rewardText = \"You gained \" + rewardXP + \" XP!\";"]},{"code":655,"indent":0,"parameters":["var completionText = \"Well done! Now help me rescue the\\nmath competition team from Room 11!\";"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Track if the player has already completed this quiz"]},{"code":655,"indent":0,"parameters":["var quizCompletedVarId = 30;"]},{"code":655,"indent":0,"parameters":["// Function to create a sequential message chain"]},{"code":655,"indent":0,"parameters":["function createMessageChain(messages) {"]},{"code":655,"indent":0,"parameters":["    var currentMessageIndex = 0;"]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Show the first message"]},{"code":655,"indent":0,"parameters":["    showNextMessage();"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    function showNextMessage() {"]},{"code":655,"indent":0,"parameters":["        if (currentMessageIndex < messages.length) {"]},{"code":655,"indent":0,"parameters":["            var message = messages[currentMessageIndex];"]},{"code":655,"indent":0,"parameters":["            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setSpeakerName(message.speaker);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setFaceImage(message.faceSet, message.faceIndex);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.add(message.text);"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // If this is the last message and it has choices, add them"]},{"code":655,"indent":0,"parameters":["            if (message.choices && currentMessageIndex === messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(message.choices.options, 0, 0);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(message.choices.callback);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // When current message is done, setup listener for next message"]},{"code":655,"indent":0,"parameters":["            if (currentMessageIndex < messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                var nextMessageListener = function() {"]},{"code":655,"indent":0,"parameters":["                    // Remove the listener to prevent multiple calls"]},{"code":655,"indent":0,"parameters":["                    $gameMessage.removeEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["                    currentMessageIndex++;"]},{"code":655,"indent":0,"parameters":["                    setTimeout(showNextMessage, 10);"]},{"code":655,"indent":0,"parameters":["                };"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                $gameMessage.addEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Unfortunately, RPG Maker MZ doesn't have the addEventListener method as described above."]},{"code":655,"indent":0,"parameters":["// Instead, we need to use a different approach with common events and game switches."]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Check if the quiz has already been completed"]},{"code":655,"indent":0,"parameters":["if ($gameVariables.value(quizCompletedVarId) === 1) {"]},{"code":655,"indent":0,"parameters":["    // Quiz already completed, show completion message only"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["} else {"]},{"code":655,"indent":0,"parameters":["    // First we'll show the intro message"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(introText.replace(\"%PLAYER_NAME%\", $gameParty.leader().name()));"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Use a common event to chain messages"]},{"code":655,"indent":0,"parameters":["    // In RPG Maker, we have to use the \"Show Text\" command multiple times in sequence"]},{"code":655,"indent":0,"parameters":["    // from the event editor, not from script."]},{"code":655,"indent":0,"parameters":["    // But for script purposes, we can use a workaround with conditional branches and message waiting"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    var messageStep = 1;  // Use a step counter to track progress"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Set up an interval to check when the message window is closed"]},{"code":655,"indent":0,"parameters":["    var waitIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["        if (!$gameMessage.isBusy()) {  // Check if message window is not busy"]},{"code":655,"indent":0,"parameters":["            if (messageStep === 1) {"]},{"code":655,"indent":0,"parameters":["                // Show request message"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(requestText);"]},{"code":655,"indent":0,"parameters":["                messageStep = 2;"]},{"code":655,"indent":0,"parameters":["            } else if (messageStep === 2) {"]},{"code":655,"indent":0,"parameters":["                // Show question and choices"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(questionText);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(choices, 0, 0);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up choice callback"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(function(choiceIndex) {"]},{"code":655,"indent":0,"parameters":["                    if (choiceIndex === correctChoiceIndex) {"]},{"code":655,"indent":0,"parameters":["                        // Correct answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 3;  // Move to next step"]},{"code":655,"indent":0,"parameters":["                    } else {"]},{"code":655,"indent":0,"parameters":["                        // Wrong answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 6;  // Skip to wrong answer message"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                });"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Clear this interval as we'll set up a new one for the next steps"]},{"code":655,"indent":0,"parameters":["                clearInterval(waitIntervalId);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up a new interval for post-choice messages"]},{"code":655,"indent":0,"parameters":["                var postChoiceIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["                    if (!$gameMessage.isBusy()) {"]},{"code":655,"indent":0,"parameters":["                        if (messageStep === 3) {"]},{"code":655,"indent":0,"parameters":["                            // Show correct answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(correctResponseText);"]},{"code":655,"indent":0,"parameters":["                            messageStep = 4;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 4) {"]},{"code":655,"indent":0,"parameters":["                            // Show XP reward message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(rewardText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // Grant XP and set completion flag"]},{"code":655,"indent":0,"parameters":["                            var actor = $gameParty.leader();"]},{"code":655,"indent":0,"parameters":["                            actor.gainExp(rewardXP);"]},{"code":655,"indent":0,"parameters":["                            $gameVariables.setValue(quizCompletedVarId, 1);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            messageStep = 5;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 5) {"]},{"code":655,"indent":0,"parameters":["                            // Show completion message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 6) {"]},{"code":655,"indent":0,"parameters":["                            // Show wrong answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(wrongResponseText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        }"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                }, 100);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }, 100);"]},{"code":655,"indent":0,"parameters":["}"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":5,"y":19},
{"id":92,"name":"ms shaw-faria","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Actor2","direction":2,"pattern":1,"characterIndex":1},"list":[{"code":355,"indent":0,"parameters":["// Customizable variables"]},{"code":655,"indent":0,"parameters":["var npcName = \"Ms Shaw-Faria\";"]},{"code":655,"indent":0,"parameters":["var npcFaceSet = \"Actor2\";"]},{"code":655,"indent":0,"parameters":["var npcFaceIndex = 1;"]},{"code":655,"indent":0,"parameters":["var introText = \"Hi %PLAYER_NAME%, the school is under\\nattack!\";"]},{"code":655,"indent":0,"parameters":["var requestText = \"Please get stronger by answering\\nmy question!\";"]},{"code":655,"indent":0,"parameters":["var questionText = \"What color is the sky on a\\nclear day?\";"]},{"code":655,"indent":0,"parameters":["var choices = [\"Red\", \"Blue\", \"Green\", \"Yellow\"];"]},{"code":655,"indent":0,"parameters":["var correctChoiceIndex = 1; // 0-based index (1 = second option, \"Blue\")"]},{"code":655,"indent":0,"parameters":["var correctResponseText = \"Correct! The sky is blue\\non a clear day.\";"]},{"code":655,"indent":0,"parameters":["var wrongResponseText = \"Sorry, that's not correct.\\nTry again later.\";"]},{"code":655,"indent":0,"parameters":["var rewardXP = 100;"]},{"code":655,"indent":0,"parameters":["var rewardText = \"You got \" + rewardXP + \" XP!\";"]},{"code":655,"indent":0,"parameters":["var completionText = \"Now go and save the students\\nfrom danger!\";"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Track if the player has already completed this quiz"]},{"code":655,"indent":0,"parameters":["var quizCompletedVarId = 10; // Change this to an unused variable ID in your game"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Function to create a sequential message chain"]},{"code":655,"indent":0,"parameters":["function createMessageChain(messages) {"]},{"code":655,"indent":0,"parameters":["    var currentMessageIndex = 0;"]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Show the first message"]},{"code":655,"indent":0,"parameters":["    showNextMessage();"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    function showNextMessage() {"]},{"code":655,"indent":0,"parameters":["        if (currentMessageIndex < messages.length) {"]},{"code":655,"indent":0,"parameters":["            var message = messages[currentMessageIndex];"]},{"code":655,"indent":0,"parameters":["            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setSpeakerName(message.speaker);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setFaceImage(message.faceSet, message.faceIndex);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.add(message.text);"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // If this is the last message and it has choices, add them"]},{"code":655,"indent":0,"parameters":["            if (message.choices && currentMessageIndex === messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(message.choices.options, 0, 0);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(message.choices.callback);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // When current message is done, setup listener for next message"]},{"code":655,"indent":0,"parameters":["            if (currentMessageIndex < messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                var nextMessageListener = function() {"]},{"code":655,"indent":0,"parameters":["                    // Remove the listener to prevent multiple calls"]},{"code":655,"indent":0,"parameters":["                    $gameMessage.removeEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["                    currentMessageIndex++;"]},{"code":655,"indent":0,"parameters":["                    setTimeout(showNextMessage, 10);"]},{"code":655,"indent":0,"parameters":["                };"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                $gameMessage.addEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Unfortunately, RPG Maker MZ doesn't have the addEventListener method as described above."]},{"code":655,"indent":0,"parameters":["// Instead, we need to use a different approach with common events and game switches."]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Check if the quiz has already been completed"]},{"code":655,"indent":0,"parameters":["if ($gameVariables.value(quizCompletedVarId) === 1) {"]},{"code":655,"indent":0,"parameters":["    // Quiz already completed, show completion message only"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["} else {"]},{"code":655,"indent":0,"parameters":["    // First we'll show the intro message"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(introText.replace(\"%PLAYER_NAME%\", $gameParty.leader().name()));"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Use a common event to chain messages"]},{"code":655,"indent":0,"parameters":["    // In RPG Maker, we have to use the \"Show Text\" command multiple times in sequence"]},{"code":655,"indent":0,"parameters":["    // from the event editor, not from script."]},{"code":655,"indent":0,"parameters":["    // But for script purposes, we can use a workaround with conditional branches and message waiting"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    var messageStep = 1;  // Use a step counter to track progress"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Set up an interval to check when the message window is closed"]},{"code":655,"indent":0,"parameters":["    var waitIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["        if (!$gameMessage.isBusy()) {  // Check if message window is not busy"]},{"code":655,"indent":0,"parameters":["            if (messageStep === 1) {"]},{"code":655,"indent":0,"parameters":["                // Show request message"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(requestText);"]},{"code":655,"indent":0,"parameters":["                messageStep = 2;"]},{"code":655,"indent":0,"parameters":["            } else if (messageStep === 2) {"]},{"code":655,"indent":0,"parameters":["                // Show question and choices"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(questionText);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(choices, 0, 0);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up choice callback"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(function(choiceIndex) {"]},{"code":655,"indent":0,"parameters":["                    if (choiceIndex === correctChoiceIndex) {"]},{"code":655,"indent":0,"parameters":["                        // Correct answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 3;  // Move to next step"]},{"code":655,"indent":0,"parameters":["                    } else {"]},{"code":655,"indent":0,"parameters":["                        // Wrong answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 6;  // Skip to wrong answer message"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                });"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Clear this interval as we'll set up a new one for the next steps"]},{"code":655,"indent":0,"parameters":["                clearInterval(waitIntervalId);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up a new interval for post-choice messages"]},{"code":655,"indent":0,"parameters":["                var postChoiceIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["                    if (!$gameMessage.isBusy()) {"]},{"code":655,"indent":0,"parameters":["                        if (messageStep === 3) {"]},{"code":655,"indent":0,"parameters":["                            // Show correct answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(correctResponseText);"]},{"code":655,"indent":0,"parameters":["                            messageStep = 4;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 4) {"]},{"code":655,"indent":0,"parameters":["                            // Show XP reward message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(rewardText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // Grant XP and set completion flag"]},{"code":655,"indent":0,"parameters":["                            var actor = $gameParty.leader();"]},{"code":655,"indent":0,"parameters":["                            actor.gainExp(rewardXP);"]},{"code":655,"indent":0,"parameters":["                            $gameVariables.setValue(quizCompletedVarId, 1);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            messageStep = 5;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 5) {"]},{"code":655,"indent":0,"parameters":["                            // Show completion message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 6) {"]},{"code":655,"indent":0,"parameters":["                            // Show wrong answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(wrongResponseText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        }"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                }, 100);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }, 100);"]},{"code":655,"indent":0,"parameters":["}"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":32,"y":5},
{"id":93,"name":"mr vargha","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"Actor1","direction":2,"pattern":1,"characterIndex":4},"list":[{"code":355,"indent":0,"parameters":["var npcName = \"Mr. Vargha\";"]},{"code":655,"indent":0,"parameters":["var npcFaceSet = \"Actor1\";"]},{"code":655,"indent":0,"parameters":["var npcFaceIndex = 4;"]},{"code":655,"indent":0,"parameters":["var introText = \"Oh %PLAYER_NAME%! Some colorful\\nmonsters are in our classroom!\";"]},{"code":655,"indent":0,"parameters":["var requestText = \"Help me chase them away by\\nanswering this question correctly!\";"]},{"code":655,"indent":0,"parameters":["var questionText = \"Which color do you get when you\\nmix blue and yellow?\";"]},{"code":655,"indent":0,"parameters":["var choices = [\"Red\", \"Green\", \"Purple\", \"Orange\"];"]},{"code":655,"indent":0,"parameters":["var correctChoiceIndex = 1; // Green"]},{"code":655,"indent":0,"parameters":["var correctResponseText = \"That's right! Blue and yellow\\nmake green!\";"]},{"code":655,"indent":0,"parameters":["var wrongResponseText = \"That's not quite right. Come back\\nwhen you're ready to try again.\";"]},{"code":655,"indent":0,"parameters":["var rewardXP = 50;"]},{"code":655,"indent":0,"parameters":["var rewardText = \"You earned \" + rewardXP + \" XP!\";"]},{"code":655,"indent":0,"parameters":["var completionText = \"Now please help me find the\\nstudents hiding under the tables!\";"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Track if the player has already completed this quiz"]},{"code":655,"indent":0,"parameters":["var quizCompletedVarId = 11; // Customizable variables"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Function to create a sequential message chain"]},{"code":655,"indent":0,"parameters":["function createMessageChain(messages) {"]},{"code":655,"indent":0,"parameters":["    var currentMessageIndex = 0;"]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Show the first message"]},{"code":655,"indent":0,"parameters":["    showNextMessage();"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    function showNextMessage() {"]},{"code":655,"indent":0,"parameters":["        if (currentMessageIndex < messages.length) {"]},{"code":655,"indent":0,"parameters":["            var message = messages[currentMessageIndex];"]},{"code":655,"indent":0,"parameters":["            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setSpeakerName(message.speaker);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setFaceImage(message.faceSet, message.faceIndex);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.add(message.text);"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // If this is the last message and it has choices, add them"]},{"code":655,"indent":0,"parameters":["            if (message.choices && currentMessageIndex === messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(message.choices.options, 0, 0);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(message.choices.callback);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // When current message is done, setup listener for next message"]},{"code":655,"indent":0,"parameters":["            if (currentMessageIndex < messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                var nextMessageListener = function() {"]},{"code":655,"indent":0,"parameters":["                    // Remove the listener to prevent multiple calls"]},{"code":655,"indent":0,"parameters":["                    $gameMessage.removeEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["                    currentMessageIndex++;"]},{"code":655,"indent":0,"parameters":["                    setTimeout(showNextMessage, 10);"]},{"code":655,"indent":0,"parameters":["                };"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                $gameMessage.addEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Unfortunately, RPG Maker MZ doesn't have the addEventListener method as described above."]},{"code":655,"indent":0,"parameters":["// Instead, we need to use a different approach with common events and game switches."]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Check if the quiz has already been completed"]},{"code":655,"indent":0,"parameters":["if ($gameVariables.value(quizCompletedVarId) === 1) {"]},{"code":655,"indent":0,"parameters":["    // Quiz already completed, show completion message only"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["} else {"]},{"code":655,"indent":0,"parameters":["    // First we'll show the intro message"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(introText.replace(\"%PLAYER_NAME%\", $gameParty.leader().name()));"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Use a common event to chain messages"]},{"code":655,"indent":0,"parameters":["    // In RPG Maker, we have to use the \"Show Text\" command multiple times in sequence"]},{"code":655,"indent":0,"parameters":["    // from the event editor, not from script."]},{"code":655,"indent":0,"parameters":["    // But for script purposes, we can use a workaround with conditional branches and message waiting"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    var messageStep = 1;  // Use a step counter to track progress"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Set up an interval to check when the message window is closed"]},{"code":655,"indent":0,"parameters":["    var waitIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["        if (!$gameMessage.isBusy()) {  // Check if message window is not busy"]},{"code":655,"indent":0,"parameters":["            if (messageStep === 1) {"]},{"code":655,"indent":0,"parameters":["                // Show request message"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(requestText);"]},{"code":655,"indent":0,"parameters":["                messageStep = 2;"]},{"code":655,"indent":0,"parameters":["            } else if (messageStep === 2) {"]},{"code":655,"indent":0,"parameters":["                // Show question and choices"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(questionText);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(choices, 0, 0);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up choice callback"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(function(choiceIndex) {"]},{"code":655,"indent":0,"parameters":["                    if (choiceIndex === correctChoiceIndex) {"]},{"code":655,"indent":0,"parameters":["                        // Correct answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 3;  // Move to next step"]},{"code":655,"indent":0,"parameters":["                    } else {"]},{"code":655,"indent":0,"parameters":["                        // Wrong answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 6;  // Skip to wrong answer message"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                });"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Clear this interval as we'll set up a new one for the next steps"]},{"code":655,"indent":0,"parameters":["                clearInterval(waitIntervalId);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up a new interval for post-choice messages"]},{"code":655,"indent":0,"parameters":["                var postChoiceIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["                    if (!$gameMessage.isBusy()) {"]},{"code":655,"indent":0,"parameters":["                        if (messageStep === 3) {"]},{"code":655,"indent":0,"parameters":["                            // Show correct answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(correctResponseText);"]},{"code":655,"indent":0,"parameters":["                            messageStep = 4;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 4) {"]},{"code":655,"indent":0,"parameters":["                            // Show XP reward message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(rewardText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // Grant XP and set completion flag"]},{"code":655,"indent":0,"parameters":["                            var actor = $gameParty.leader();"]},{"code":655,"indent":0,"parameters":["                            actor.gainExp(rewardXP);"]},{"code":655,"indent":0,"parameters":["                            $gameVariables.setValue(quizCompletedVarId, 1);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            messageStep = 5;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 5) {"]},{"code":655,"indent":0,"parameters":["                            // Show completion message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 6) {"]},{"code":655,"indent":0,"parameters":["                            // Show wrong answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(wrongResponseText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        }"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                }, 100);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }, 100);"]},{"code":655,"indent":0,"parameters":["}"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":32,"y":7},
{"id":94,"name":"ms clapper","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"tileId":0,"characterName":"SF_Actor3","direction":2,"pattern":1,"characterIndex":7},"list":[{"code":355,"indent":0,"parameters":["// Customizable variables"]},{"code":655,"indent":0,"parameters":["var npcName = \"Ms Clapper\";"]},{"code":655,"indent":0,"parameters":["var npcFaceSet = \"SF_Actor3\";"]},{"code":655,"indent":0,"parameters":["var npcFaceIndex = 7;"]},{"code":655,"indent":0,"parameters":["var introText = \"Hi %PLAYER_NAME%, the school is under\\nattack!\";"]},{"code":655,"indent":0,"parameters":["var requestText = \"Please get stronger by answering\\nmy question!\";"]},{"code":655,"indent":0,"parameters":["var questionText = \"What color is the sky on a\\nclear day?\";"]},{"code":655,"indent":0,"parameters":["var choices = [\"Red\", \"Blue\", \"Green\", \"Yellow\"];"]},{"code":655,"indent":0,"parameters":["var correctChoiceIndex = 1; // 0-based index (1 = second option, \"Blue\")"]},{"code":655,"indent":0,"parameters":["var correctResponseText = \"Correct! The sky is blue\\non a clear day.\";"]},{"code":655,"indent":0,"parameters":["var wrongResponseText = \"Sorry, that's not correct.\\nTry again later.\";"]},{"code":655,"indent":0,"parameters":["var rewardXP = 100;"]},{"code":655,"indent":0,"parameters":["var rewardText = \"You got \" + rewardXP + \" XP!\";"]},{"code":655,"indent":0,"parameters":["var completionText = \"Now go and save the students\\nfrom danger!\";"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Track if the player has already completed this quiz"]},{"code":655,"indent":0,"parameters":["var quizCompletedVarId = 10; // Change this to an unused variable ID in your game"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Function to create a sequential message chain"]},{"code":655,"indent":0,"parameters":["function createMessageChain(messages) {"]},{"code":655,"indent":0,"parameters":["    var currentMessageIndex = 0;"]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Show the first message"]},{"code":655,"indent":0,"parameters":["    showNextMessage();"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    function showNextMessage() {"]},{"code":655,"indent":0,"parameters":["        if (currentMessageIndex < messages.length) {"]},{"code":655,"indent":0,"parameters":["            var message = messages[currentMessageIndex];"]},{"code":655,"indent":0,"parameters":["            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setSpeakerName(message.speaker);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.setFaceImage(message.faceSet, message.faceIndex);"]},{"code":655,"indent":0,"parameters":["            $gameMessage.add(message.text);"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // If this is the last message and it has choices, add them"]},{"code":655,"indent":0,"parameters":["            if (message.choices && currentMessageIndex === messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(message.choices.options, 0, 0);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(message.choices.callback);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["            "]},{"code":655,"indent":0,"parameters":["            // When current message is done, setup listener for next message"]},{"code":655,"indent":0,"parameters":["            if (currentMessageIndex < messages.length - 1) {"]},{"code":655,"indent":0,"parameters":["                var nextMessageListener = function() {"]},{"code":655,"indent":0,"parameters":["                    // Remove the listener to prevent multiple calls"]},{"code":655,"indent":0,"parameters":["                    $gameMessage.removeEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["                    currentMessageIndex++;"]},{"code":655,"indent":0,"parameters":["                    setTimeout(showNextMessage, 10);"]},{"code":655,"indent":0,"parameters":["                };"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                $gameMessage.addEventListener('messageWindowClosed', nextMessageListener);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Unfortunately, RPG Maker MZ doesn't have the addEventListener method as described above."]},{"code":655,"indent":0,"parameters":["// Instead, we need to use a different approach with common events and game switches."]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["// Check if the quiz has already been completed"]},{"code":655,"indent":0,"parameters":["if ($gameVariables.value(quizCompletedVarId) === 1) {"]},{"code":655,"indent":0,"parameters":["    // Quiz already completed, show completion message only"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["} else {"]},{"code":655,"indent":0,"parameters":["    // First we'll show the intro message"]},{"code":655,"indent":0,"parameters":["    $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["    $gameMessage.add(introText.replace(\"%PLAYER_NAME%\", $gameParty.leader().name()));"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Use a common event to chain messages"]},{"code":655,"indent":0,"parameters":["    // In RPG Maker, we have to use the \"Show Text\" command multiple times in sequence"]},{"code":655,"indent":0,"parameters":["    // from the event editor, not from script."]},{"code":655,"indent":0,"parameters":["    // But for script purposes, we can use a workaround with conditional branches and message waiting"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    var interpreter = this;"]},{"code":655,"indent":0,"parameters":["    var messageStep = 1;  // Use a step counter to track progress"]},{"code":655,"indent":0,"parameters":["    "]},{"code":655,"indent":0,"parameters":["    // Set up an interval to check when the message window is closed"]},{"code":655,"indent":0,"parameters":["    var waitIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["        if (!$gameMessage.isBusy()) {  // Check if message window is not busy"]},{"code":655,"indent":0,"parameters":["            if (messageStep === 1) {"]},{"code":655,"indent":0,"parameters":["                // Show request message"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(requestText);"]},{"code":655,"indent":0,"parameters":["                messageStep = 2;"]},{"code":655,"indent":0,"parameters":["            } else if (messageStep === 2) {"]},{"code":655,"indent":0,"parameters":["                // Show question and choices"]},{"code":655,"indent":0,"parameters":["                $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.add(questionText);"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoices(choices, 0, 0);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up choice callback"]},{"code":655,"indent":0,"parameters":["                $gameMessage.setChoiceCallback(function(choiceIndex) {"]},{"code":655,"indent":0,"parameters":["                    if (choiceIndex === correctChoiceIndex) {"]},{"code":655,"indent":0,"parameters":["                        // Correct answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 3;  // Move to next step"]},{"code":655,"indent":0,"parameters":["                    } else {"]},{"code":655,"indent":0,"parameters":["                        // Wrong answer"]},{"code":655,"indent":0,"parameters":["                        messageStep = 6;  // Skip to wrong answer message"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                });"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Clear this interval as we'll set up a new one for the next steps"]},{"code":655,"indent":0,"parameters":["                clearInterval(waitIntervalId);"]},{"code":655,"indent":0,"parameters":["                "]},{"code":655,"indent":0,"parameters":["                // Set up a new interval for post-choice messages"]},{"code":655,"indent":0,"parameters":["                var postChoiceIntervalId = setInterval(function() {"]},{"code":655,"indent":0,"parameters":["                    if (!$gameMessage.isBusy()) {"]},{"code":655,"indent":0,"parameters":["                        if (messageStep === 3) {"]},{"code":655,"indent":0,"parameters":["                            // Show correct answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(correctResponseText);"]},{"code":655,"indent":0,"parameters":["                            messageStep = 4;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 4) {"]},{"code":655,"indent":0,"parameters":["                            // Show XP reward message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(rewardText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // Grant XP and set completion flag"]},{"code":655,"indent":0,"parameters":["                            var actor = $gameParty.leader();"]},{"code":655,"indent":0,"parameters":["                            actor.gainExp(rewardXP);"]},{"code":655,"indent":0,"parameters":["                            $gameVariables.setValue(quizCompletedVarId, 1);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            messageStep = 5;"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 5) {"]},{"code":655,"indent":0,"parameters":["                            // Show completion message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(completionText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        } else if (messageStep === 6) {"]},{"code":655,"indent":0,"parameters":["                            // Show wrong answer message"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.clear();"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setSpeakerName(npcName);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.setFaceImage(npcFaceSet, npcFaceIndex);"]},{"code":655,"indent":0,"parameters":["                            $gameMessage.add(wrongResponseText);"]},{"code":655,"indent":0,"parameters":["                            "]},{"code":655,"indent":0,"parameters":["                            // We're done, clear the interval"]},{"code":655,"indent":0,"parameters":["                            clearInterval(postChoiceIntervalId);"]},{"code":655,"indent":0,"parameters":["                        }"]},{"code":655,"indent":0,"parameters":["                    }"]},{"code":655,"indent":0,"parameters":["                }, 100);"]},{"code":655,"indent":0,"parameters":["            }"]},{"code":655,"indent":0,"parameters":["        }"]},{"code":655,"indent":0,"parameters":["    }, 100);"]},{"code":655,"indent":0,"parameters":["}"]},{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":1,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":32,"y":9}
]
}